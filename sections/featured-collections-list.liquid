<div class="container {% if section.settings.style == 'style2' %}md-container{% endif %}">
    <div class="yv-collection-wrapper {% if section.settings.style == 'style2' %}fullwidth{% endif %}">
      <div class="yv-collections-text-outer">
        <div class="yv-collections-text" >
          {%- if section.settings.subheading != blank -%}
          <h6 class="yv-collections-subtitle wow fadeInLeft">{{ section.settings.subheading }}</h6>
          {%- endif %}
          {%- if section.settings.heading != blank -%}
          <h2 class="heading-title wow fadeInRightBig" data-wow-duration="0.8s" data-wow-delay="0.1s">
            <span class="textFadeIn">
              <span class="wow fadeInLeftBig" data-wow-duration="0.8s" data-wow-delay="0.2s">{{ section.settings.heading }}</span>
            </span>
          </h2>
          {%- endif %}
          {%- if section.settings.description != blank -%}
          <p class="yv-collections-desc">{{ section.settings.description }}</p>
          {%- endif %}
          {%- if section.settings.btntext != blank and section.settings.btnlink != blank -%}
          <a class="button yv-collections-mainlink" href="{{ section.settings.btnlink }}">{{ section.settings.btntext }}</a>
          {%- endif -%}
        </div>
      </div>
      <div class="yv-collection-slider">
        <div class="yv-collection-slider-wrapper {% if section.blocks.size < 3 %}no-center-mode{% endif %}" {% if section.blocks.size > 3 %} 
             data-flickity-slider='{ "pageDots": false,
                                   "draggable": false,
                                   "wrapAround": true,
                                   "prevNextButtons": true,
                                   "touchVerticalScroll": false,
                                   "contain": true }'
             {% endif %} data-desktop-only>
  
        {%- for block in section.blocks -%}
        {%- assign collection = block.settings.collection -%}
        <div class="yv-collection-list">
          <div class="yv-collection-item focus-inside">
            <div class="yv-collection-list-image" tabindex="-1">
              {%- if block.settings.image != blank -%}
              {%- render 'lazy-image' image: block.settings.image, width: '400x', sizes: "[225,228,243,292,297,313,393]" -%}
              {%- elsif collection.featured_image -%}
              {%- render 'lazy-image' image: collection.featured_image, width: '400x', sizes: "[225,228,243,292,297,313,393]" -%}
              {%- else -%}
              {{ 'collection-1' | placeholder_svg_tag: 'placeholder-svg' }}
              {%- endif -%}
            </div>
         
            <div class="yv-collection-content{% if collection == blank %} cursor-pointer{%- endif -%}">
              {%- if collection != blank -%}
              <a href="{{ collection.url }}">
              {%- endif -%}
              {%- if collection == blank and block.settings.heading == blank -%}
              <h6 class="yv-collection-title">Collection Name</h6>
              {%- elsif  collection != blank or block.settings.heading != blank -%}
              <h6 class="yv-collection-title">{%- if block.settings.heading != blank -%}{{block.settings.heading}}{%else%}{{ collection.title | strip_html }}{% endif %}</h6>
              {%- endif -%}

              {%- if collection == blank and block.settings.heading == blank -%}
              <p class="yv-collection-desc">Collection Description</p>
              {%- elsif collection != blank or block.settings.subheading != blank -%}
                <p class="yv-collection-desc">{%- if block.settings.subheading != blank -%}{{ block.settings.subheading | truncatewords : 10  }}{%else%}{{ collection.description | strip_html | truncatewords : 10 }}{% endif %}</p>
              {%- endif -%}
              <div class="yv-collection-link-outer">
                <span class="yv-collection-link">
                  <svg viewBox="0 0 21 14" width="21" height="14"><path class="a" d="m18.9 6.9l-5.3-5.3c-0.3-0.4-0.3-0.9 0-1.2 0.4-0.3 0.9-0.4 1.2 0l5.9 6c0.3 0.3 0.3 0.9 0 1.2l-6.2 6.2q-0.2 0.2-0.6 0.2-0.3 0-0.6-0.2c-0.3-0.4-0.3-0.9 0-1.2zm-18.1-0.7h17.6c0.4 0 0.8 0.4 0.8 0.8 0 0.5-0.4 0.9-0.8 0.9h-17.6c-0.4 0-0.8-0.4-0.8-0.9 0-0.4 0.4-0.8 0.8-0.8z"/></svg>
                </span>
              </div>
              {%- if collection != blank -%}
              </a>
              {%- endif -%}
            </div>
          </div>
        </div>
        {%- endfor -%}
      </div>
      </div>
    </div>
  </div>
  <style>
    #shopify-section-{{ section.id }}.shopify-section {
      padding-top:{{ section.settings.top_space_desktop }}px;
      padding-bottom:{{ section.settings.bottom_space_desktop }}px;
    }
  .yv-collection-list-image {
      width: 100%;
      height: 100%;
      position: relative;
  }
    .yv-collection-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: top;
      position: absolute;
      top: 0;
  }
    @media only screen and (max-width:575px) {
      #shopify-section-{{ section.id }}.shopify-section{
        padding-top:{{ section.settings.top_space_mobile }}px;
        padding-bottom:{{ section.settings.bottom_space_mobile }}px;
      }
    }
   
  </style>
  {% schema %}
  {
    "name": "t:sections.featured-collections-list.name",
    "tag": "section",
    "class": "collection-list-section",
    "max_blocks": 5,
    "settings": [
      {
        "type": "select",
        "id": "style",
        "default": "style1",
        "label": "t:sections.featured-collections-list.settings.style.label",
        "options": [
          {
            "value": "style1",
            "label": "t:sections.featured-collections-list.settings.style.options.style1.label"
          },
          {
            "value": "style2",
            "label": "t:sections.featured-collections-list.settings.style.options.style2.label"
          }
        ]
      },
      {
        "type":"header",
        "content": "t:common.header.text_section.label"
      },
      {
        "type": "text",
        "id": "heading",
        "default": "Collection list",
        "label": "t:sections.featured-collections-list.settings.heading.label"
      },
      {
        "type": "text",
        "id": "subheading",
        "default": "New Collection",
        "label": "t:sections.featured-collections-list.settings.subheading.label"
      },
      {
        "type": "textarea",
        "id": "description",
        "default": "Share information about your collection with customers. Describe a collection, make announcements related to your collection.",
        "label": "t:sections.featured-collections-list.settings.description.label"
      },
      {
        "type":"header",
        "content": "t:common.header.button_section.label"
      },
      {
        "type": "text",
        "id": "btntext",
        "default": "View All",
        "label": "t:sections.featured-collections-list.settings.btntext.label"
      },
      {
        "type": "url",
        "id": "btnlink",
        "default": "/collections",
        "label": "t:sections.featured-collections-list.settings.btnlink.label"
      },
      {
        "type":"header",
        "content": "t:common.header.space_section.label"
      },
      {
        "type": "range",
        "id": "top_space_desktop",
        "label": "t:common.top_space_desktop.label",
        "default": 85,
        "min": 0,
        "max": 100,
        "step": 5
      },
      {
        "type": "range",
        "id": "bottom_space_desktop",
        "label": "t:common.bottom_space_desktop.label",
        "default": 40,
        "min": 0,
        "max": 100,
        "step": 5
      },
      {
        "type": "range",
        "id": "top_space_mobile",
        "label": "t:common.top_space_mobile.label",
        "default": 35,
        "min": 0,
        "max": 100,
        "step": 5
      },
      {
        "type": "range",
        "id": "bottom_space_mobile",
        "label": "t:common.bottom_space_mobile.label",
        "default": 35,
        "min": 0,
        "max": 100,
        "step": 5
      }
    ],
    "blocks": [
      {
        "type": "collection",
        "name": "t:sections.featured-collections-list.blocks.collection.name",
        "settings": [
          {
            "type": "collection",
            "id": "collection",
            "label": "t:sections.featured-collections-list.blocks.collection.settings.collection.label"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "t:sections.featured-collections-list.blocks.collection.settings.image.label",
            "info": "t:sections.featured-collections-list.blocks.collection.settings.image.info"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.featured-collections-list.blocks.collection.settings.heading.label"
          },
          {
            "type": "text",
            "id": "subheading",
            "label": "t:sections.featured-collections-list.blocks.collection.settings.subheading.label",
            "info": "t:sections.featured-collections-list.blocks.collection.settings.subheading.info"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "t:sections.featured-collections-list.presets.name",
        "blocks": [
          {
            "type": "collection"
          },
          {
            "type": "collection"
          },
          {
            "type": "collection"
          },
          {
            "type": "collection"
          }
        ]
      }
    ]
  }
  {% endschema %}