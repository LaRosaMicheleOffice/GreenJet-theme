// function hideallMenus(e,t){Array.from(e).forEach(function(e){var i=e.nextElementSibling,n=e.parentNode;e!=t&&(n.classList.remove("active"),DOMAnimations.slideUp(i))})}function pad2(e){return(e<10?"0":"")+e}function screenVisibility(e){if(0!=e.length){var t=$(window),i=t.scrollTop(),n=t.height(),o=i+n,a=e,r=a.offset().top,s=a.height(),l=r+s;return r>=i&&r<o||l>i&&l<=o||s>n&&r<=i&&l>=o}}function isOnScreen(e,t){if(0!=e.length){var i=$(window),n=i.scrollTop(),o=i.height(),a=n+o,r=$(e),s=r.offset().top;t||$(window).width()>768&&(s+=400);var l=r.height(),d=s+l;return s>=n&&s<a||d>n&&d<=a||l>o&&s<=n&&d>=a}}function truncate(e,t){var i=e.split(" ").length,n=e.split(" ").splice(0,t).join(" ");return i>t&&(n+=".."),n}function toggleDropdown(e){var t=document.getElementById(e);"none"===t.style.display?t.style.display="block":t.style.display="none"}function roundToTwo(e){return+(Math.round(e+"e+2")+"e-2")}function variantChange(e,t,i){var n=JSON.parse(i.querySelector('[type="application/json"][data-name="variant-json"]').textContent);return currentVariant=n.find(i=>"options"===t?!i.options.map((t,i)=>e[i]===t).includes(!1):"id"===t?i.id==e:void 0)}function priceUpdate(e,t,i,n){var o="",a="",r="";if(null!=i){t&&(o=t.getAttribute("data-saved"),a=t.getAttribute("data-saved-style"));var s=parseInt(i.compare_at_price),l=parseInt(i.price),d=Math.round((s-l)/s*100)+"% "+saleOffText,c=Shopify.formatMoney(s-l,moneyFormat)+" "+saleOffText;r=`<span class="yv-visually-hidden">${regularPriceText}</span><span class="yv-product-price">${Shopify.formatMoney(l,moneyFormat)}</span>`;var u='<span class="yv-visually-hidden">'+savedPriceText+"</span>";n?"true"==o&&(u+="percentage"==a?`<span class="yv-product-percent-off">${d}</span>`:`<span class="yv-product-percent-off">${c}</span>`):""==i.allocation_type?u+="percentage"==a?`<span class="yv-product-percent-off">${d}</span>`:`<span class="yv-product-percent-off">${c}</span>`:"percentage"==i.allocation_type?u+=`<span class="yv-product-percent-off">${i.allocation_value}% ${saleOffText}</span>`:u+=`<span class="yv-product-percent-off">${Shopify.formatMoney(i.allocation_value,moneyFormat)} ${saleOffText}</span>`,s>l&&(r=`<span class="yv-visually-hidden">${comparePriceText}</span><span class="yv-product-price">${Shopify.formatMoney(l,moneyFormat)}</span>\n        <span class="yv-visually-hidden">${regularPriceText}</span><span class="yv-product-compare-price"> ${Shopify.formatMoney(s,moneyFormat)}</span>\n        ${u}`),i.unit_price_measurement&&(r+='<span class="yv-visually-hidden">'+unitPriceText+'</span><p class="yv-product-unit-price">'+Shopify.formatMoney(i.unit_price,moneyFormat)+" / ",r+=1==i.reference_value?"":i.reference_value,r+=i.reference_unit+"</p>"),1!=i.available&&(r+=`<span class="yv-visually-hidden">${soldOutText}</span>`)}if(t&&(t.innerHTML=r),e){let t=e.querySelector("[data-sticky-price-wrapper]");t&&(t.innerHTML=r)}}function sellingPlans(variant,form){let sellingPlanVariable=form.querySelector('[name="selling_plan"]'),sellingHtmlContainer=form.querySelector("[data-selling-plan-container]");if(sellingHtmlContainer&&(sellingHtmlContainer.innerHTML="",variant&&variant.selling_plans)){let sellingPlans=variant.selling_plans,variantPlans=[],variantGroups=[];if(Object.keys(sellingPlans).length>0){for(plan in sellingPlans){var planId=parseInt(plan.replace("plan_","")),groupId=sellingPlans[plan].group_id;variantPlans.push(planId),variantGroups.includes(groupId)||variantGroups.push(groupId)}var sellingPlanHtml=`<div class="selling_group active">\n  <div class="sellingPlanHeading" for="oneTimePurchase">\n  <input type="radio" id="oneTimePurchase" name="sellingPlanHeading" checked>\n  <label for="oneTimePurchase">${oneTimePurchaseText}</label>\n  </div>\n  </div>`;variantGroups.forEach(function(group,index){var group=eval("selling_Plan_Group_"+group),groupPlans=group.selling_plans;for(plan in sellingPlanHtml+=`<div class="selling_group">\n  <div class="sellingPlanHeading" for="sellingGroup${index}">\n  <input type="radio" id="sellingGroup${index}" name="sellingPlanHeading" value="">\n  <label for="sellingGroup${index}">${group.name}</label>\n  </div>\n  <div  class="selling_plan">\n  <select class="selling_plan_attribute">`,groupPlans){var plan=groupPlans[plan];sellingPlanHtml+=`<option value="${plan.id}">${plan.name}</option>`}sellingPlanHtml+="</select></div></div>"}),sellingPlanHtml+="</div>",sellingPlanVariable.value="",sellingHtmlContainer.innerHTML=sellingPlanHtml,sellingPlanChange()}}}function pickUpAvialabiliy(e){setTimeout(function(){var t=document.querySelector(".product__pickup-availabilities"),i=document.getElementById("pickup-availability-preview-container");if(t&&(i.innerHTML="",t.classList.add("hidden"),i.classList.add("hidden"),e)){var n=t.dataset.rootUrl,o=t.closest("form").querySelector("[name=id]").value;n.endsWith("/")||(n+="/");var a=`${n}variants/${o}/?section_id=pickup-availability`;fetch(a).then(e=>e.text()).then(e=>{var n=(new DOMParser).parseFromString(e,"text/html").querySelector(".shopify-section"),o=n.querySelector("#pickUpAvailabilityPreview");o&&(i.innerHTML=n.innerHTML,i.classList.remove("hidden"),t.classList.remove("hidden"),showPickupDrawer())}).catch(e=>{})}},500)}function sellingPlanChange(){var e=document.querySelectorAll('[name="sellingPlanHeading"]');Array.from(e).forEach(function(e){e.addEventListener("click",()=>{var t="",i=e.closest("form"),n=i.querySelector('[name="selling_plan"]'),o=i.querySelectorAll(".selling_group"),a=e.closest(".selling_group");if(!a.classList.contains("active")){Array.from(o).forEach(function(e){e!=a&&(e.classList.remove("active"),e.querySelector(".selling_plan")&&DOMAnimations.slideUp(e.querySelector(".selling_plan")))});var r=i.querySelector('[name="id"]').getAttribute("value"),s=variantChange(r,"id",i),l=i.closest(".yv_product_content_section"),d=i.closest(".shopify-section"),c=l.querySelector("[data-price-wrapper]");a.querySelector(".selling_plan_attribute")?(t=a.querySelector(".selling_plan_attribute").value,priceUpdate(d,c,s.selling_plans["plan_"+t],!1)):priceUpdate(d,c,s,!0),n.value=t,a.classList.add("active"),a.querySelector(".selling_plan")&&DOMAnimations.slideDown(a.querySelector(".selling_plan"))}})});var t=document.querySelectorAll("select.selling_plan_attribute");Array.from(t).forEach(function(e){e.addEventListener("change",()=>{var t=e.closest("form"),i=t.querySelector('[name="selling_plan"]');i.value=e.value;var n=t.querySelector('[name="id"]').getAttribute("value"),o=variantChange(n,"id",t),a=t.closest(".yv_product_content_section"),r=a.querySelector("[data-price-wrapper]"),s=t.closest(".shopify-section");priceUpdate(s,r,o.selling_plans["plan_"+e.value],!1)})})}function showPickupDrawer(){const e=document.getElementById("ShowPickupAvailabilityDrawer"),t=document.getElementById("pickup-availability-preview-container");e&&e.addEventListener("click",n=>{n.preventDefault();i=document.querySelector("[data-side-drawer]");i.setAttribute("class","yv_side_drawer_wrapper");var o=t.querySelector("#pickUpAvailabilityMain").innerHTML;i.classList.add("pickup-availability-drawer"),i.querySelector("[data-drawer-title]").innerHTML="Pick Up Availability",i.querySelector("[data-drawer-body]").innerHTML=o,focusElement=e,i.focus(),document.querySelector("body").classList.add("side_Drawer_open")})}function onYouTubeIframeAPIReady(){Array.from(yvYouTubeVideos).forEach(function(e){let t=e.getAttribute("id"),i=e.dataset.id;youTubeVideoReady(t,i)})}function youTubeVideoReady(e,t){new YT.Player(e,{videoId:t,width:1915,height:720,playerVars:{showinfo:0,controls:0,fs:0,rel:0,height:"100%",width:"100%",iv_load_policy:3,html5:1,loop:1,autoplay:1,playsinline:1,modestbranding:1,disablekb:1,wmode:"opaque"},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){e.target.mute(),e.target.playVideo()}function onPlayerStateChange(e){0==e.data&&e.target.playVideo()}function tabAccordionContent(){var e=document.getElementsByClassName("yv-tab-product-item");if(e.length>0){e[0].classList.add("active");var t=document.getElementsByClassName("yv-product-detail-tab");t[0].style.display="block",Array.from(e).forEach(function(i){i.addEventListener("click",n=>{n.preventDefault(),Array.from(e).forEach(function(e){e.classList.remove("active")}),Array.from(t).forEach(function(e){e.style.display="none"}),i.classList.add("active");var o=i.getAttribute("content");document.getElementById(o).style.display="block"})})}var i=document.getElementsByClassName("yv-accordion-header");if(i.length>0){document.getElementsByClassName("yv-accordion-content");Array.from(i).forEach(function(e){e.addEventListener("click",t=>{if(t.preventDefault(),e.classList.contains("active"))e.parentNode.removeAttribute("open"),clearAccordion();else{e.classList.add("active"),e.parentNode.setAttribute("open","");var i=e.getAttribute("content");clearAccordion(e,document.getElementById(i)),DOMAnimations.slideDown(document.getElementById(i))}})})}}function clearAccordion(e,t){var i=document.getElementsByClassName("yv-accordion-header"),n=document.getElementsByClassName("yv-accordion-content");Array.from(i).forEach(function(t){t!=e&&t.classList.remove("active")}),Array.from(n).forEach(function(e){e!=t&&DOMAnimations.slideUp(e)})}function initMaps(){jQuery(mapSelectors).each(function(e,t){createMap(t)})}function checkMapApi(e){if(e||jQuery(mapSelectors).length>0)if("loaded"===apiloaded)e?createMap(e):initMaps();else if("loading"!==apiloaded&&(apiloaded="loading",void 0===window.google||void 0===window.google.maps)){var t=document.createElement("script");t.onload=function(){apiloaded="loaded",e?createMap(e):initMaps()},t.src="https://maps.googleapis.com/maps/api/js?key="+googleMapApiKey,document.head.appendChild(t)}}function createMap(e){var t=new google.maps.Geocoder,i=jQuery(e).data("location"),n=jQuery(e).data("map-style");t.geocode({address:i},function(t,i){if(null!=t){var o={zoom:17,backgroundColor:"none",center:t[0].geometry.location,draggable:!1,clickableIcons:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0,mapTypeId:n},a=this.map=new google.maps.Map(e,o),r=this.center=a.getCenter();new google.maps.Marker({map:a,position:a.getCenter()});google.maps.event.addDomListener(window,"resize",function(){setTimeout(function(){google.maps.event.trigger(a,"resize"),a.setCenter(r)},250)})}})}function clearActive(e,t){var i=document.getElementsByClassName("faqSection-header"),n=document.getElementsByClassName("faqSection-content");Array.from(i).forEach(function(t){var i=t.querySelector(".iconPlus"),n=t.querySelector(".iconMinus");t!=e&&(n.style.display="none",i.style.display="inline",t.classList.remove("active"))}),Array.from(n).forEach(function(e){e!=t&&DOMAnimations.slideUp(e)})}function quantityChange(){jQuery(".quantity:not(.cart-item-quantity)").each(function(){var e=jQuery(this),t=e.find('input[type="number"]'),i=e.find(".quantity-up"),n=e.find(".quantity-down"),o=t.attr("min"),a=t.attr("max");i.click(function(i){i.preventDefault();var n=parseFloat(t.val());if(n>=a)var o=n;else o=n+1;e.find("input").val(o),e.find("input").trigger("change")}),n.click(function(i){i.preventDefault();var n=parseFloat(t.val());if(n<=o)var a=n;else a=n-1;e.find("input").val(a),e.find("input").trigger("change")})})}function sliderFilter(){$("body").on("click",".filter-products",function(e){if(e.preventDefault(),!$(this).hasClass("active")){$(this).siblings().removeClass("active"),$(this).addClass("active");let e=$(this).data("filter"),t=$(this).closest(".shopify-section").find("[data-flickity-slider]");t.hasClass("flickity-enabled")&&t.flickity("destroy"),t.find(".filter-slide").removeClass("active").hide(),t.find(".animated-grid").css("visibility","hidden").css("animation-name","none"),t.find(".filter-slide."+e).addClass("active").show(),$(window).width()>767&&flickitySlider(t),t.find(".filter-slide."+e).find(".animated-grid").addClass("animated").css("visibility","visible").css("animation-name","fadeIn"),setTimeout(function(){t.find(".filter-slide."+e).find(".animated-grid").removeClass("animated")},1e3)}})}function removeClasses(){$("body").removeClass("similar_Drawer_open").removeClass("side_Drawer_open").removeClass("yv_side_Drawer_open").removeClass("active_askme").removeClass("scrollHidden").removeClass("quickview-open").removeClass("nav-open").removeClass("addsearch").removeClass("minicart-open").removeClass("customer-open").removeClass("NewsletterActive").removeClass("show__similar__products").removeClass("offer-open").removeClass("mega-menu-open"),$(".yv-coupan-sidebar").removeClass("open"),$(".wrapper-overlay").hide(),$("input.form-control.search-input").val(""),$(".yv-search-result-container").empty(),setTimeout(function(){$(".yv-newsletter-popup").fadeOut("slow")},200),$(window).width()>767?$(".askmeMain").hide().removeClass("slideAskme"):($(".askmeMain.slideAskme").removeClass("slideAskme"),setTimeout(function(){$(".askmeMain").hide()},250)),$(".dropdown-menu-list").removeClass("open"),$(".toggle-level,.list-menu__item.toggle").removeClass("open-menu-drop"),$(".side-menu").find(".inner").slideUp("slow"),$(window).width()<768?$("#sort__list").removeClass("active"):$("#sort__list").slideUp(),$("body").removeClass("side_Drawer_open").removeClass("open-filter-sort"),focusElement&&(focusElement==window?window.focus():focusElement.nodeType?focusElement.focus():focusElement.trigger("focus"),focusElement="")}function closeVideoMedia(e){document.querySelectorAll(".yv-youtube-video").forEach(t=>{isOnScreen(t)&&!e||t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),document.querySelectorAll(".yv-vimeo-video").forEach(t=>{isOnScreen(t)&&!e||t.contentWindow.postMessage('{"method":"pause"}',"*")}),document.querySelectorAll("video").forEach(t=>{t.classList.contains("videoBackgroundFile")||isOnScreen(t)&&!e||t.pause()})}void 0===window.Shopify&&(window.Shopify={}),Shopify.bind=function(e,t){return function(){return e.apply(t,arguments)}},Shopify.setSelectorByValue=function(e,t){for(var i=0,n=e.options.length;i<n;i++){var o=e.options[i];if(t==o.value||t==o.innerHTML)return e.selectedIndex=i,i}},Shopify.addListener=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},Shopify.postLink=function(e,t){t=t||{};var i=t.method||"post",n=t.parameters||{},o=document.createElement("form");for(var a in o.setAttribute("method",i),o.setAttribute("action",e),n){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",a),r.setAttribute("value",n[a]),o.appendChild(r)}document.body.appendChild(o),o.submit(),document.body.removeChild(o)},Shopify.CountryProvinceSelector=function(e,t,i){var n=document.querySelectorAll("#"+e),o=document.querySelectorAll("#"+t),a=document.querySelectorAll("#"+i.hideElement||"#"+t);this.countryEl=n[0],this.provinceEl=o[0],this.provinceContainer=a[0],n[1]&&(this.countryEl=n[1]),o[1]&&(this.provinceEl=o[1]),a[1]&&(this.provinceContainer=a[1]),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},Shopify.CountryProvinceSelector.prototype={initCountry:function(){var e=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,e),this.countryHandler()},initProvince:function(){var e=this.provinceEl.getAttribute("data-default");e&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,e)},countryHandler:function(e){var t=this.countryEl.options[this.countryEl.selectedIndex],i=t.getAttribute("data-provinces"),n=JSON.parse(i);if(this.clearOptions(this.provinceEl),n&&0==n.length)this.provinceContainer.style.display="none";else{for(var o=0;o<n.length;o++){t=document.createElement("option");t.value=n[o][0],t.innerHTML=n[o][1],this.provinceEl.appendChild(t)}this.provinceContainer.style.display=""}},clearOptions:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},setOptions:function(e,t){var i=0;for(t.length;i<t.length;i++){var n=document.createElement("option");n.value=t[i],n.innerHTML=t[i],e.appendChild(n)}}},"undefined"==typeof Shopify&&(Shopify={}),Shopify.formatMoney||(Shopify.formatMoney=function(e,t){function i(e,t){return void 0===e?t:e}function n(e,t,n,o){if(t=i(t,2),n=i(n,","),o=i(o,"."),isNaN(e)||null==e)return 0;e=(e/100).toFixed(t);var a=e.split("."),r=a[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n),s=a[1]?o+a[1]:"";return r+s}var o="",a=/\{\{\s*(\w+)\s*\}\}/,r=t||this.money_format;switch("string"==typeof e&&(e=e.replace(".","")),r.match(a)[1]){case"amount":o=n(e,2);break;case"amount_no_decimals":o=n(e,0);break;case"amount_with_comma_separator":o=n(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":o=n(e,0,".",",");;case"amount_no_decimals_with_space_separator":o=n(e,0," "," ")}return r.replace(a,o)});var DOMAnimations={slideUp:function(e,t=500){return new Promise(function(i,n){e.style.height=e.offsetHeight+"px",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),i(!1)},t)})},slideDown:function(e,t=500){return new Promise(function(i,n){e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let a=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=a+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)})},slideToggle:function(e,t=500){return"none"===window.getComputedStyle(e).display?this.slideDown(e,t):this.slideUp(e,t)},classToggle:function(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}};Element.prototype.fadeIn||(Element.prototype.fadeIn=function(){let e=isNaN(arguments[0])?400:arguments[0],t="function"==typeof arguments[0]?arguments[0]:"function"==typeof arguments[1]?arguments[1]:null;this.style.opacity=0,this.style.filter="alpha(opacity=0)",this.style.display="inline-block",this.style.visibility="visible";let i=this,n=0,o=setInterval(function(){n+=50/e,n>=1&&(clearInterval(o),n=1,t&&t("done!")),i.style.opacity=n,i.style.filter="alpha(opacity="+100*n+")"},50)}),Element.prototype.fadeOut||(Element.prototype.fadeOut=function(){let e=isNaN(arguments[0])?400:arguments[0],t="function"==typeof arguments[0]?arguments[0]:"function"==typeof arguments[1]?arguments[1]:null,i=this,n=1,o=setInterval(function(){n-=50/e,n<=0&&(clearInterval(o),n=0,i.style.display="none",i.style.visibility="hidden",t&&t("done!")),i.style.opacity=n,i.style.filter="alpha(opacity="+100*n+")"},50)}),jQuery.fn.scrollTo=function(e){return $(this).scrollTop($(this).scrollTop()-$(this).offset().top+$(e).offset().top),this},productVariants=function(){let e=document.querySelectorAll('[name="id"]');Array.from(e).forEach(function(e){e.removeAttribute("disabled")});var t=document.getElementsByClassName("productOption");if(t){var i=[];eventType="click","dropdown"==variantStyle&&(eventType="change"),Array.from(t).forEach(function(e){e.addEventListener(eventType,()=>{var t=e.closest(".yv_product_content_section"),l=t.querySelector("[data-button-wrapper]");l&&l.classList.add("disable-buttons"),setTimeout(function(){let n=e.value,o=e.getAttribute("name"),a=t.closest(".shopify-section");if(a){let e=a.closest(".shopify-section").querySelector('select[name="sticky-'+o+'"]');e&&(e.value=n)}const r=Array.from(t.querySelectorAll(".product-loop-variants"));i="dropdown"==variantStyle?r.map(e=>Array.from(e.querySelectorAll("select")).find(e=>e).value):r.map(e=>Array.from(e.querySelectorAll("input")).find(e=>e.checked).value);var s=variantChange(i,"options",t),d=t.querySelector(".Sd_addProduct"),c=d.querySelector("span");let u="",p="";a&&(p=a.querySelector(".Sd_addProductSticky"),p&&(u=p.querySelector("span")));d.querySelector(".shopify-payment-button");var y=t.querySelector("[data-price-wrapper]"),f=t.closest(".shopify-section");priceUpdate(f,y,s,!0);let m="";s&&s.sku&&(m=s.sku);let v=a.querySelectorAll(".productErrors");v&&Array.from(v).forEach(function(e){e.innerHTML="",e.style.display="none"});let h=t.querySelector("[data-variant-sku ]");if(h&&(h.innerHTML=m),sellingPlans(s,t),null!=s){if(t.querySelector("shopify-payment-terms")&&(t.querySelector("shopify-payment-terms").style.display="block"),s.id!=t.querySelector('[name="id"]').value){if(null!=s.featured_media){let e=a.getAttribute("id");var g=s.featured_media.id,b=jQuery("#"+e).find('[data-image="media-'+g+'"]');if(b){var w=b.index(),S=b.closest("[data-flickity-slider]");if(0==S.length&&(S=b.closest("[data-flickity-product-slider]")),null!=productSlider)productSlider.select(w);else if(S&&S.hasClass("flickity-enabled")){if(S.flickity("select",w),$(window).width()<768){let t=jQuery("body").find("#"+e).find("#media-main-"+g);if(t.length>0){jQuery("html,body").animate({scrollTop:b.offset().top-top});let e=t.parent();e.scrollLeft(e.scrollLeft()+t.position().left)}}}else if(S.hasClass("gallery-item")){let t=10;if(jQuery("#headerSection").hasClass("sticky-header")&&(t=jQuery("#headerSection").height()+t),jQuery("html,body").animate({scrollTop:b.offset().top-t}),$(window).width()<768){let t=t=jQuery("#"+e).find("#media-main"+g);if(t){let e=t.parent();e.scrollLeft(e.scrollLeft()+t.position().left)}}}else if(b.click(),$(window).width()<768){let t=jQuery("#"+e).find("#media-"+g);if(0==t.length&&(t=jQuery("#"+e).find("#media-main-"+g)),t.length>0){let e=t.parent();e.scrollLeft(e.scrollLeft()+t.position().left)}}}if("image"==s.featured_media.media_type&&a){let e=a.querySelector('[data-id="featuredImage-'+s.featured_media.id+'"]');if(e){let t=a.querySelectorAll(".featured-product-image");Array.from(t).forEach(function(e){e.classList.remove("active")}),e.classList.add("active")}}}t.querySelector('[name="id"]').value=s.id,t.querySelector('[name="id"]').dispatchEvent(new Event("change",{bubbles:!0}))}var C=window.location.pathname;if(C.indexOf("/products/")>-1){var k=C+"?variant="+s.id;history.pushState({},null,k)}pickUpAvialabiliy(!0),1==s.available?(l&&(l.classList.remove("disabled"),l.classList.remove("disable-buttons")),d&&d.removeAttribute("disabled"),p&&p.removeAttribute("disabled"),c&&(preorderStatus&&"continue"==s.inventory_policy&&s.inventory_quantity<=0?c.innerHTML=preorderText:c.innerHTML=addToCartText),u&&(preorderStatus&&"continue"==s.inventory_policy&&s.inventory_quantity<=0?u.innerHTML=preorderText:u.innerHTML=addToCartText)):(l&&(l.classList.add("disabled"),l.classList.remove("disable-buttons")),p&&p.setAttribute("disabled",!0),d&&d.setAttribute("disabled",!0),u&&(u.innerHTML=soldOutText),c&&(c.innerHTML=soldOutText))}else t.querySelector("shopify-payment-terms")&&(t.querySelector("shopify-payment-terms").style.display="none"),pickUpAvialabiliy(!1),l&&(l.classList.add("disabled"),l.classList.remove("disable-buttons")),d&&d.setAttribute("disabled",!0),c&&(c.innerHTML=unavailableText),p&&p.setAttribute("disabled",!0),u&&(u.innerHTML=unavailableText)},500)})})}},showMultipleOptions=function(){return!1},flickitySlider=function(e,t){var i=e.attr("data-flickity-slider");if(i){var n=JSON.parse(i);e.on("ready.flickity",function(){if(e.has("data-animated-content-slider")){let t=e.find(".yv-banner-item:not(.is-selected)");t.find(".yv-banner-subtitle").removeClass("animated fadeInUp").css({visibility:"hidden","animation-name":""}),t.find(".yv-banner-title").removeClass("animated fadeInRightBig").css({visibility:"hidden","animation-name":""}),t.find(".textFadeIn .wow").removeClass("animated fadeInLeftBig").css({visibility:"hidden","animation-name":""}),t.find(".button").removeClass("animated fadeInLeft").css({visibility:"hidden","animation-name":""})}}),e.hasClass("flickity-enabled")?e.flickity("resize"):t?e.not(".flickity-enabled").flickity(n).flickity("select",t):e.not(".flickity-enabled").flickity(n).flickity("resize"),e.on("change.flickity",function(t,i){if(e[0].querySelectorAll(".yv-youtube-video").forEach(e=>{e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),e[0].querySelectorAll(".yv-vimeo-video").forEach(e=>{e.contentWindow.postMessage('{"method":"pause"}',"*")}),e[0].querySelectorAll("video").forEach(e=>e.pause()),e.has("data-animated-content-slider")){let t=e.find(".yv-banner-item.is-selected");e.find(".yv-banner-subtitle").removeClass("animated fadeInUp").css({visibility:"hidden","animation-name":""}),e.find(".yv-banner-title").removeClass("animated fadeInRightBig").css({visibility:"hidden","animation-name":""}),e.find(".textFadeIn .wow").removeClass("animated fadeInLeftBig").css({visibility:"hidden","animation-name":""}),e.find(".button").removeClass("animated fadeInUp").css({visibility:"hidden","animation-name":""}),t.find(".yv-banner-subtitle").addClass("animated fadeInUp").css({visibility:"visible","animation-name":"fadeInUp"}),t.find(".yv-banner-title").addClass("animated fadeInRightBig").css({visibility:"visible","animation-name":"fadeInRightBig"}),t.find(".textFadeIn .wow").addClass("animated fadeInLeftBig").css({visibility:"visible","animation-name":"fadeInLeftBig"}),t.find(".button").addClass("animated fadeInUp").css({visibility:"visible","animation-name":"fadeInUp"})}}),e.find(".flickity-slider-thumb-item").on("focus",function(){let t=parseInt($(this).attr("data-index")),i=e.closest(".shopify-section").find("[data-flickity-product-slider]"),n=e.closest(".shopify-section").find(".data-main-slider");i.length>0?productSlider.select(t):n.flickity("select",t)})}},sliders=function(){var e=jQuery("body").find("[data-flickity-slider]");e.length>0&&e.each(function(e){jQuery(this).is("[data-mobile-only]")?$(window).width()<768?jQuery(this).hasClass("flickity-enabled")||flickitySlider(jQuery(this)):jQuery(this).hasClass("flickity-enabled")&&jQuery(this).flickity("destroy"):jQuery(this).is("[data-desktop-only]")?$(window).width()>=768?jQuery(this).hasClass("flickity-enabled")||flickitySlider(jQuery(this)):jQuery(this).hasClass("flickity-enabled")&&jQuery(this).flickity("destroy"):jQuery(this).hasClass("flickity-enabled")||flickitySlider(jQuery(this))})};let yvYouTubeVideos=document.querySelectorAll(".yvYoutubeAutoPlayvVideo");if(yvYouTubeVideos.length>0){var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}let done=!1;var mapSelectors="[data-map-container]",apiloaded=null,dealSection=function(e){const t=1e3,i=60*t,n=60*i,o=24*n;var a;countdown=function(e){var r=document.querySelector(e);if(r){clearInterval(a);var s=r.querySelector(".dealDate");if(s){const e=s.value.split("/");let p=e[0],y=e[1],f=e[2],m=y+"/"+p+"/"+f+" 00:00:00",v=new Date(m).getTime();var l=r.querySelector("#dDays"),d=r.querySelector("#dHours"),c=r.querySelector("#dMinutes"),u=r.querySelector("#dSeconds");l&&d&&c&&u&&(a=setInterval(function(){let e=(new Date).getTime(),r=v-e;var s=Math.floor(r/o);r>0?(l.innerText=pad2(s),d.innerText=pad2(Math.floor(r%o/n)),c.innerText=pad2(Math.floor(r%n/i)),u.innerText=pad2(Math.floor(r%i/t))):(l.innerText="00",d.innerText="00",c.innerText="00",u.innerText="00",clearInterval(a))},0))}}},countdown("#"+e)};document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){document.querySelector("body").classList.remove("page-loading")},500);var e=document.getElementsByClassName("footer-menu-accordion-head");window.innerWidth<768&&Array.from(e).forEach(function(t){t.addEventListener("click",function(i){i.preventDefault();var n=t.nextElementSibling,o=t.parentNode;o.classList.contains("active")?(DOMAnimations.classToggle(o,"active"),DOMAnimations.slideToggle(n)):(hideallMenus(e,t),DOMAnimations.classToggle(o,"active"),DOMAnimations.slideToggle(n))})})}),$(document).ready(function(){pickUpAvialabiliy(!0),productVariants(),sellingPlanChange(),sliders(),checkMapApi(),quantityChange(),tabAccordionContent(),sliderFilter();var e=!1,t=0,i="";wow=new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0}),wow.init();let n=$(".sticky-item");setTimeout(function(){if($("body").hasClass("sticky-header")){let e=$("#headerSection").height();n.css("top",e+"px"),$(".yv-collections-topbar").css("top",e+"px")}else n.css("top","0px"),$(".yv-collections-topbar").css("top","0px")},500),jQuery(document).on("shopify:section:select shopify:section:load shopify:section:unload shopify:block:select shopify:block:deselect",function(e){var n=e.target;Shopify.PaymentButton&&Shopify.PaymentButton.init(),jQuery(n).hasClass("offer-sidebar-section")?(jQuery(n).show(),jQuery("body").addClass("offer-open"),jQuery(".yv-coupan-sidebar").addClass("open")):(jQuery("body").removeClass("offer-open"),jQuery(".yv-coupan-sidebar").removeClass("open"));var o=jQuery(n).find("[data-flickity-slider]");if("shopify:block:select"==e.type){jQuery(n).closest(".shopify-section").hasClass("offer-sidebar-section")?(jQuery("body").addClass("offer-open"),jQuery(".yv-coupan-sidebar").addClass("open")):(jQuery("body").removeClass("offer-open"),jQuery(".yv-coupan-sidebar").removeClass("open"));e.detail.sectionId;i=jQuery(e.target),t=i.index(),i.closest("[data-flickity-slider]").hasClass("flickity-enabled")&&i.closest("[data-flickity-slider]").flickity("select",t)}else if("shopify:section:load"==e.type){if(e.target.classList.contains("collection-product-section")){let a=e.target.querySelectorAll(".filter-products");Array.from(a).forEach(function(a){a.classList.remove("active")});let b=e.target.querySelectorAll(".filter-slide");Array.from(b).forEach(function(a){a.classList.remove("active")}),setTimeout(function(){e.target.querySelectorAll(".filter-products")[0].click()},300)};""!=i&&(t=void 0),productVariants(),e.target.querySelector("[data-map-container]")&&checkMapApi(e.target.querySelector("[data-map-container]")),jQuery(o).is("[data-mobile-only]")?$(window).width()<768?jQuery(o).hasClass("flickity-enabled")||flickitySlider(jQuery(o),t):jQuery(o).hasClass("flickity-enabled")&&jQuery(o).flickity("destroy"):jQuery(this).is("[data-desktop-only]")?$(window).width()>=768?jQuery(this).hasClass("flickity-enabled")||flickitySlider(jQuery(this)):jQuery(this).hasClass("flickity-enabled")&&jQuery(this).flickity("destroy"):jQuery(o).hasClass("flickity-enabled")||jQuery(o).each(function(){flickitySlider($(this),t)}),jQuery(e.target).find("[data-slider]").length>0&&jQuery("html, body").animate({scrollTop:jQuery(e.target).offset().top}),tabAccordionContent(),quantityChange(),jQuery(e.target).find(".dealDate").length>0&&dealSection(jQuery(e.target).attr("id")),jQuery(e.target).find("#instafeed").length>0&&instagramFeed(),jQuery(e.target).find(".announcement-bar").length>0&&initAnnouncement();var a=window.location.pathname;a.indexOf("/products")>-1&&recommendedProductsSlider()}else"shopify:section:unload"==e.type&&e.target.querySelector("[data-map-container]")&&checkMapApi(e.target.querySelector("[data-map-container]"));var r=$(n).offset();$("html, body").animate({scrollTop:r.top})}),$("#currencyMobile").change(function(){$(this).closest("form").submit()});var o=document.getElementsByClassName("deal-banner-section");o&&Array.from(o).forEach(function(e){dealSection(e.getAttribute("id"))}),$(window).resize(function(e){sliders(),sliderFilter()}),$(document).on("click",function(e){var t=$(".currency-dropdown");t===e.target||t.has(e.target).length||$(".currency-menu").slideUp("fast")}),$("body").on("click",".navbar-toggler",function(e){e.preventDefault(),$(".navbar-collapse-sidebar").addClass("show"),$("body").addClass("nav-open")}),$("body").on("click",".close-btn",function(e){e.preventDefault(),$("body").removeClass("nav-open"),$(".toggle-level,.list-menu__item.toggle").removeClass("open-menu-drop"),$(".inner").slideUp("slow")}),$(document).on("click",".close-cart-drawer",function(){$("body").removeClass("minicart-open"),
// $(".wrapper-overlay").hide()}),$("body").on("click",".similar_options",function(e){e.preventDefault();var t=$(this);$(".wrapper-overlay").css({display:"block"});var i=$(this).attr("data-url");const n=document.querySelector("[data-similar-product-drawer]");n.classList.add("searching"),document.querySelector("body").classList.add("similar_Drawer_open"),n.querySelector("[data-similar-drawer-body]").innerHTML=preLoadLoadGif,fetch(i).then(e=>e.text()).then(e=>{const i=document.createElement("div");i.innerHTML=e;const o=i.querySelector("#similarItemContainer");o&&o.innerHTML.trim().length&&(focusElement=t,$(document).find(".yv_similar_drawer_wrapper").trigger("focus"),n.querySelector("[data-similar-drawer-body]").innerHTML=o.innerHTML,n.classList.remove("searching"))})}),$("body").on("click",".currency-dropdown .dropdown-toggle",function(){$(this).closest(".currency-dropdown").find(".currency-menu").slideToggle("fast")}),$("body").on("click","#CountryList .dropdown-item",function(e){e.preventDefault();var t=$(this).attr("data-value"),i=$(this).text();$(this).closest("form").find(".dropdown-toggle").text(i),$(this).closest("form").find('[name="country_code"]').val(t),$(this).closest("form").submit(),$(this).closest(".currency-dropdown").find(".currency-menu").slideUp("fast")}),$("body").on("click",".dropdown-selected",function(){$("body").find(".productOptionSelectList").slideUp("fast"),$(this).siblings(".productOptionSelectList").css({display:"block"})}),$(".toggle.list-menu__item,button.toggle-level").click(function(e){e.preventDefault();var t=$(this);t.hasClass("open-menu-drop")?($(this).removeClass("open-menu-drop"),t.next().slideUp("slow")):($(this).hasClass("toggle-level")?($(".toggle-level").removeClass("open-menu-drop"),$(".toggle-level").next().slideUp("slow")):($(".toggle.list-menu__item,.toggle-level").removeClass("open-menu-drop"),$(".toggle.list-menu__item,.toggle-level").next().slideUp("slow")),t.closest("li").find(".inner").slideUp("slow"),$(this).addClass("open-menu-drop"),t.next().slideDown("slow"))}),$(document).on("click",function(e){var t=$(".productOptionSelect");t===e.target||t.has(e.target).length||$(".productOptionSelectList").slideUp("fast")}),$("body").on("click",".dropdown-menu li",function(){var e=$(this).text();$(this).find("input").prop("checked",!0),$(this).closest(".productOptionSelect").find(".dropdown-selected").text(e),$(this).closest(".productOptionSelectList").slideUp("fast")}),$(".yv-product-slider-item,.navbar-toggler,.similar_options,.openCartDrawer,.yv-coupan-sidebar,.dropdown-menu-list,.ask_this_product,.yv_similar_drawer_wrapper,#toolbox-sort,#sort__list,.yv_side_drawer_wrapper,.askmecontainer,.search-bar-container,.search-form,.yv-newsletter-popup-inner,.side-menu").hover(function(){e=!0},function(){e=!1});var a=!1;$(".dropdown-menu-item").hover(function(){a=!0},function(){a=!1}),$("body").on("click",function(){a||($(".yv-dropdown-detail").removeAttr("open"),$(".yv-dropdown-detail").removeClass("open"))}),$("body").on("mouseup",function(){e||(removeClasses(),closeVideoMedia("quickView"))}),$("body").on("keydown",function(e){27==e.keyCode&&(closeVideoMedia("quickView"),document.querySelector(".hamburger.opened")&&document.querySelector(".hamburger.opened").click(),$(".super_active").removeClass("super_active"),$(".yv-dropdown-detail").removeAttr("open"),$(".yv-dropdown-detail").removeClass("open"),$("#sizeChartModel").fadeOut(100),$("#password-popup").fadeOut(),$("body").removeClass("sizeChartOpen").removeClass("PasswordFormActive"),removeClasses())}),$(document).on("click",".yv_side_drawer_close,.yv_similar_drawer_close",function(){$("body").removeClass("side_Drawer_open").removeClass("similar_Drawer_open").removeClass("yv_side_Drawer_open"),closeVideoMedia("quickView"),focusElement&&(focusElement.nodeType?focusElement.focus():focusElement.trigger("focus"),focusElement="")}),$(document).on("click",".quickView",function(e){e.preventDefault();let t=$(this);const i=document.querySelector("[data-side-drawer]");i.setAttribute("class","yv_side_drawer_wrapper"),i.setAttribute("id","yv_quickView_product"),i.classList.add("yv_quickView_product"),i.querySelector("[data-drawer-body]").innerHTML=preLoadLoadGif,i.querySelector("[data-drawer-title]").innerHTML=quickViewHeading,i.querySelector("[data-drawer-body]").classList.add("searching"),document.querySelector("body").classList.add("side_Drawer_open");var n=$(this).data("href");n.indexOf("?")>-1&&(n=n.split("?"),n=n[0]),$(".Quick_loader").fadeIn("slow"),setTimeout(function(){$.get(n+"?view=quick-view",function(data){$("[data-drawer-body]").html(data),$(window).trigger("resize"),i.querySelector("[data-drawer-body]").classList.remove("searching"),Shopify.PaymentButton&&Shopify.PaymentButton.init(),productVariants(),quantityChange(),focusElement=t,$(document).find(".yv_side_drawer_wrapper").trigger("focus")})},1e3)}),$(document).on("click",".quickViewClose",function(e){e.preventDefault(),$("body").removeClass("quickview-open")});let r=setInterval(function(){$(".yv-product-hover-slider").length>0&&(clearInterval(r),$(".yv-product-hover-slider").hover(function(){let e=$(this),t=JSON.parse(e.find(".sd-main-Slider").attr("data-flickity-hover-slider"));e.find(".sd-main-Slider").flickity(t)},function(){$(this).find(".sd-main-Slider").hasClass("flickity-enabled")&&$(this).find(".sd-main-Slider").flickity("destroy")}))},500);setTimeout(function(){clearInterval(r)},6e3),$(".flickity-slider > div").on("focus,keydown",function(){let e=$(this).index();$(this).closest(".flickity-enabled").flickity("select",e)}),$(".yv-product-slider").on("scroll",function(){document.querySelectorAll(".yv-youtube-video").forEach(e=>{let t=e.getBoundingClientRect().left;t>-50&&t<window.innerWidth-100||e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),document.querySelectorAll(".yv-vimeo-video").forEach(e=>{let t=e.getBoundingClientRect().left;t>-50&&t<window.innerWidth-100||e.contentWindow.postMessage('{"method":"pause"}',"*")}),document.querySelectorAll("video").forEach(e=>{let t=e.getBoundingClientRect().left;e.hasAttribute("autoplay")||t>-50&&t<window.innerWidth-100||e.pause()})}),$(document).on("click",".video-play-btn",function(e){e.preventDefault(),$(this).closest(".video-overlay-text").hide(),$(this).closest(".shopify-section").find(".video-banner-file").show()}),$(window).scrollTop()>$(window).height()/2&&$("#shopify-section-offer-sidebar").show(),$(window).on("scroll",function(){$(this).scrollTop()>$(this).height()/2?$("#shopify-section-offer-sidebar").show():$("#shopify-section-offer-sidebar").hide(),closeVideoMedia()})});
// jQuery(window).resize(function(){
//   setTimeout(function(){
//     var sliders = jQuery('body').find('[data-flickity-slider]');
//     if(sliders.length > 0){      
//       sliders.each(function(index) {
//           var _this = jQuery(this);
//         if (_this.hasClass('flickity-enabled')) {
//              _this.flickity('resize');            
//         }
//       });
//     }
//   },700);
// })
var mouse_is_inside = false;

if ((typeof window.Shopify) == 'undefined') {
    window.Shopify = {};
}

Shopify.bind = function(fn, scope) {
    return function() {
        return fn.apply(scope, arguments);
    }
};

Shopify.setSelectorByValue = function(selector, value) {
    for (var i = 0, count = selector.options.length; i < count; i++) {
        var option = selector.options[i];
        if (value == option.value || value == option.innerHTML) {
            selector.selectedIndex = i;
            return i;
        }
    }
};

Shopify.addListener = function(target, eventName, callback) {
    target.addEventListener ? target.addEventListener(eventName, callback, false) : target.attachEvent('on' + eventName, callback);
};

Shopify.postLink = function(path, options) {
    options = options || {};
    var method = options['method'] || 'post';
    var parameters = options['parameters'] || {};

    var form = document.createElement("form");
    form.setAttribute("method", method);
    form.setAttribute("action", path);

    for (var key in parameters) {
        var fields = document.createElement("input");
        fields.setAttribute("type", "hidden");
        fields.setAttribute("name", key);
        fields.setAttribute("value", parameters[key]);
        form.appendChild(fields);
    }
    document.body.appendChild(form);
    form.submit();
    document.body.removeChild(form);
};

Shopify.CountryProvinceSelector = function(country_domid, province_domid, options) {
    var countryElement = document.querySelectorAll('#' + country_domid);
    var provinceElement = document.querySelectorAll('#' + province_domid);
    var provinceContainerEl = document.querySelectorAll('#' + options['hideElement'] || '#' + province_domid);

    this.countryEl = countryElement[0];
    this.provinceEl = provinceElement[0];
    this.provinceContainer = provinceContainerEl[0];
    if (countryElement[1]) {
        this.countryEl = countryElement[1];
    }
    if (provinceElement[1]) {
        this.provinceEl = provinceElement[1];
    }
    if (provinceContainerEl[1]) {
        this.provinceContainer = provinceContainerEl[1];
    }

    Shopify.addListener(this.countryEl, 'change', Shopify.bind(this.countryHandler, this));

    this.initCountry();
    this.initProvince();
};

Shopify.CountryProvinceSelector.prototype = {
    initCountry: function() {
        var value = this.countryEl.getAttribute('data-default');
        Shopify.setSelectorByValue(this.countryEl, value);
        this.countryHandler();
    },

    initProvince: function() {
        var value = this.provinceEl.getAttribute('data-default');
        if (value && this.provinceEl.options.length > 0) {
            Shopify.setSelectorByValue(this.provinceEl, value);
        }
    },

    countryHandler: function(e) {
        var opt = this.countryEl.options[this.countryEl.selectedIndex];
        var raw = opt.getAttribute('data-provinces');
        var provinces = JSON.parse(raw);

        this.clearOptions(this.provinceEl);
        if (provinces && provinces.length == 0) {
            this.provinceContainer.style.display = 'none';
        } else {
            for (var i = 0; i < provinces.length; i++) {
                var opt = document.createElement('option');
                opt.value = provinces[i][0];
                opt.innerHTML = provinces[i][1];
                this.provinceEl.appendChild(opt);
            }

            this.provinceContainer.style.display = "";
        }
    },

    clearOptions: function(selector) {
        while (selector.firstChild) {
            selector.removeChild(selector.firstChild);
        }
    },

    setOptions: function(selector, values) {
        for (var i = 0, count = values.length; i < values.length; i++) {
            var opt = document.createElement('option');
            opt.value = values[i];
            opt.innerHTML = values[i];
            selector.appendChild(opt);
        }
    }
};

if ((typeof Shopify) === 'undefined') { Shopify = {}; }
if (!Shopify.formatMoney) {
    Shopify.formatMoney = function(cents, format) {
        var value = '',
            placeholderRegex = /\{\{\s*(\w+)\s*\}\}/,
            formatString = (format || this.money_format);

        if (typeof cents == 'string') {
            cents = cents.replace('.', '');
        }

        function defaultOption(opt, def) {
            return (typeof opt == 'undefined' ? def : opt);
        }

        function formatWithDelimiters(number, precision, thousands, decimal) {
            precision = defaultOption(precision, 2);
            thousands = defaultOption(thousands, ',');
            decimal = defaultOption(decimal, '.');

            if (isNaN(number) || number == null) {
                return 0;
            }

            number = (number / 100.0).toFixed(precision);

            var parts = number.split('.'),
                dollars = parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g, '$1' + thousands),
                cents = parts[1] ? (decimal + parts[1]) : '';

            return dollars + cents;
        }

        switch (formatString.match(placeholderRegex)[1]) {
            case 'amount':
                value = formatWithDelimiters(cents, 2);
                break;
            case 'amount_no_decimals':
                value = formatWithDelimiters(cents, 0);
                break;
            case 'amount_with_comma_separator':
                value = formatWithDelimiters(cents, 2, '.', ',');
                break;
            case 'amount_no_decimals_with_comma_separator':
                value = formatWithDelimiters(cents, 0, '.', ',');
                break;
            case 'amount_no_decimals_with_space_separator':
                value = formatWithDelimiters(cents, 0, ' ', ' ');
                break;
        }

        return formatString.replace(placeholderRegex, value);
    };
}


var DOMAnimations = {

    slideUp: function(element, duration = 500) {

        return new Promise(function(resolve, reject) {

            element.style.height = element.offsetHeight + 'px';
            element.style.transitionProperty = `height, margin, padding`;
            element.style.transitionDuration = duration + 'ms';
            element.offsetHeight;
            element.style.overflow = 'hidden';
            element.style.height = 0;
            element.style.paddingTop = 0;
            element.style.paddingBottom = 0;
            element.style.marginTop = 0;
            element.style.marginBottom = 0;
            window.setTimeout(function() {
                element.style.display = 'none';
                element.style.removeProperty('height');
                element.style.removeProperty('padding-top');
                element.style.removeProperty('padding-bottom');
                element.style.removeProperty('margin-top');
                element.style.removeProperty('margin-bottom');
                element.style.removeProperty('overflow');
                element.style.removeProperty('transition-duration');
                element.style.removeProperty('transition-property');
                resolve(false);
            }, duration)
        })
    },

    slideDown: function(element, duration = 500) {

        return new Promise(function(resolve, reject) {

            element.style.removeProperty('display');
            let display = window.getComputedStyle(element).display;

            if (display === 'none')
                display = 'block';

            element.style.display = display;
            let height = element.offsetHeight;
            element.style.overflow = 'hidden';
            element.style.height = 0;
            element.style.paddingTop = 0;
            element.style.paddingBottom = 0;
            element.style.marginTop = 0;
            element.style.marginBottom = 0;
            element.offsetHeight;
            element.style.transitionProperty = `height, margin, padding`;
            element.style.transitionDuration = duration + 'ms';
            element.style.height = height + 'px';
            element.style.removeProperty('padding-top');
            element.style.removeProperty('padding-bottom');
            element.style.removeProperty('margin-top');
            element.style.removeProperty('margin-bottom');
            window.setTimeout(function() {
                element.style.removeProperty('height');
                element.style.removeProperty('overflow');
                element.style.removeProperty('transition-duration');
                element.style.removeProperty('transition-property');
            }, duration)
        })
    },

    slideToggle: function(element, duration = 500) {

        if (window.getComputedStyle(element).display === 'none') {

            return this.slideDown(element, duration);

        } else {

            return this.slideUp(element, duration);
        }
    },

    classToggle: function(element, className) {

        if (element.classList.contains(className)) {

            element.classList.remove(className)


        } else {

            element.classList.add(className)
        }
    }
}

if (!Element.prototype.fadeIn) {
    Element.prototype.fadeIn = function() {
        let ms = !isNaN(arguments[0]) ? arguments[0] : 400,
            func = typeof arguments[0] === 'function' ? arguments[0] : (
                typeof arguments[1] === 'function' ? arguments[1] : null
            );

        this.style.opacity = 0;
        this.style.filter = "alpha(opacity=0)";
        this.style.display = "inline-block";
        this.style.visibility = "visible";

        let $this = this,
            opacity = 0,
            timer = setInterval(function() {
                opacity += 50 / ms;
                if (opacity >= 1) {
                    clearInterval(timer);
                    opacity = 1;

                    if (func) func('done!');
                }
                $this.style.opacity = opacity;
                $this.style.filter = "alpha(opacity=" + opacity * 100 + ")";
            }, 50);
    }
}

if (!Element.prototype.fadeOut) {
    Element.prototype.fadeOut = function() {
        let ms = !isNaN(arguments[0]) ? arguments[0] : 400,
            func = typeof arguments[0] === 'function' ? arguments[0] : (
                typeof arguments[1] === 'function' ? arguments[1] : null
            );

        let $this = this,
            opacity = 1,
            timer = setInterval(function() {
                opacity -= 50 / ms;
                if (opacity <= 0) {
                    clearInterval(timer);
                    opacity = 0;
                    $this.style.display = "none";
                    $this.style.visibility = "hidden";

                    if (func) func('done!');
                }
                $this.style.opacity = opacity;
                $this.style.filter = "alpha(opacity=" + opacity * 100 + ")";
            }, 50);
    }
}

/** All Menu Hide **/

function hideallMenus(menus, current) {
    Array.from(menus).forEach(function(menu) {
        var menuList = menu.nextElementSibling;
        var menuParent = menu.parentNode;
        if (menu == current) {
            return;
        } else {
            menuParent.classList.remove('active');
            DOMAnimations.slideUp(menuList);

        }
    });
}

function pad2(number) {
    return (number < 10 ? '0' : '') + number
}

function screenVisibility(elem) {

    if (elem.length == 0) {
        return;
    }

    var $window = $(window);
    var viewport_top = $window.scrollTop();
    var viewport_height = $window.height();
    var viewport_bottom = viewport_top + viewport_height;
    var $elem = elem;
    var top = $elem.offset().top;
    var height = $elem.height();
    var bottom = top + height;
    return (top >= viewport_top && top < viewport_bottom) ||
        (bottom > viewport_top && bottom <= viewport_bottom) ||
        (height > viewport_height && top <= viewport_top && bottom >= viewport_bottom)
}


function isOnScreen(elem, form) {
    // if the element doesn't exist, abort
    if (elem.length == 0) {
        return;
    }
    var $window = $(window);
    var viewport_top = $window.scrollTop();
    var viewport_height = $window.height();
    var viewport_bottom = viewport_top + viewport_height;
    var $elem = $(elem);
    var top = $elem.offset().top;
    if (!form) {
        if ($(window).width() > 768) {
            top = top + 400;
        }
    }
    var height = $elem.height();
    var bottom = top + height;

    return (top >= viewport_top && top < viewport_bottom) ||
        (bottom > viewport_top && bottom <= viewport_bottom) ||
        (height > viewport_height && top <= viewport_top && bottom >= viewport_bottom)
}


jQuery.fn.scrollTo = function(elem) {
    $(this).scrollTop($(this).scrollTop() - $(this).offset().top + $(elem).offset().top);
    return this;
};

function truncate(str, no_words) {
    var length = str.split(" ").length;
    var _value = str.split(" ").splice(0, no_words).join(" ");
    if (length > no_words) {
        _value = _value + '..'
    }
    return _value;
}

function toggleDropdown(id) {
    var x = document.getElementById(id);
    if (x.style.display === "none") {
        x.style.display = "block";
    } else {
        x.style.display = "none";
    }
}

function roundToTwo(num) {
    return +(Math.round(num + "e+2") + "e-2");
}

function listElementsForFocus(wrapper) {
    let elementsList = Array.from(
        wrapper[0].querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")
    );
    return elementsList;
}
const focusElementsList = {};

function focusElementsRotation(wrapper) {
    stopFocusElementsRotation();
    let elements = listElementsForFocus(wrapper);
    let first = elements[0];
    let last = elements[elements.length - 1];
    focusElementsList.focusin = (e) => {
        if (
            e.target !== wrapper[0] &&
            e.target !== last &&
            e.target !== first
        )
            return;

        document.addEventListener('keydown', focusElementsList.keydown);
    };

    focusElementsList.focusout = function() {
        document.removeEventListener('keydown', focusElementsList.keydown);
    };

    focusElementsList.keydown = function(e) {
        if (e.code.toUpperCase() !== 'TAB') return;
        if (e.target === last && !e.shiftKey) {
            e.preventDefault();
            first.focus();
        }
        if ((e.target === wrapper[0] || e.target === first) && e.shiftKey) {
            e.preventDefault();
            last.focus();
        }
    };

    document.addEventListener('focusout', focusElementsList.focusout);
    document.addEventListener('focusin', focusElementsList.focusin);
}

function stopFocusElementsRotation() {
    document.removeEventListener('focusin', focusElementsList.focusin);
    document.removeEventListener('focusout', focusElementsList.focusout);
    document.removeEventListener('keydown', focusElementsList.keydown);
}
productVariants = function() {

    let selectIds = document.querySelectorAll('[name="id"]');
    Array.from(selectIds).forEach(function(selectId) {
        selectId.removeAttribute("disabled")
    });
    var productOptions = document.getElementsByClassName('productOption');
    if (productOptions) {
        var options = [];
        eventType = 'click';
        if (variantStyle == 'dropdown') {
            eventType = 'change';
        }
        Array.from(productOptions).forEach(function(productOption) {

            productOption.addEventListener(eventType, () => {
                var _productParent = productOption.closest('.yv_product_content_section');
                setTimeout(function() {
                    let optionValue = productOption.value;
                    let optionName = productOption.getAttribute('name');
                    let productPageSection = _productParent.closest('.shopify-section');
                    if (productPageSection) {
                        let getStickyOption = productPageSection.closest('.shopify-section').querySelector('select[name="sticky-' + optionName + '"]');
                        if (getStickyOption) {
                            getStickyOption.value = optionValue;
                        }
                    }
                    const fieldsets = Array.from(_productParent.querySelectorAll('.product-loop-variants'));
                    if (variantStyle == 'dropdown') {
                        options = fieldsets.map((fieldset) => {
                            return Array.from(fieldset.querySelectorAll('select')).find((select) => select).value;
                        });
                    } else {
                        options = fieldsets.map((fieldset) => {
                            return Array.from(fieldset.querySelectorAll('input')).find((radio) => radio.checked).value;
                        });
                    }
                    var getVariant = variantChange(options, 'options', _productParent);
                    var buttonWrapper = _productParent.querySelector('[data-button-wrapper]');
                    var paymentButtonWrapper = _productParent.querySelector('.Sd_addProduct');
                    var paymentButton = paymentButtonWrapper.querySelector('span');
                    let stickyPaymentButton = '';
                    let stickyPaymentButtonWrapper = '';
                    if (productPageSection) {
                        stickyPaymentButtonWrapper = productPageSection.querySelector('.Sd_addProductSticky');

                        if (stickyPaymentButtonWrapper) {
                            stickyPaymentButton = stickyPaymentButtonWrapper.querySelector('span');
                        }
                    }
                    var advancePayment = paymentButtonWrapper.querySelector('.shopify-payment-button');

                    var priceContainer = _productParent.querySelector('[data-price-wrapper]');
                    var _productSection = _productParent.closest('.shopify-section');
                    priceUpdate(_productSection, priceContainer, getVariant, true);
                    let variantSku = '';
                    if (getVariant && getVariant.sku) {
                        variantSku = getVariant.sku;
                    }
                    let errorWrappers = productPageSection.querySelectorAll('.productErrors');
                    if (errorWrappers) {
                        Array.from(errorWrappers).forEach(function(errorWrapper) {
                            errorWrapper.innerHTML = '';
                            errorWrapper.style.display = 'none';
                        });
                    }
                    let variantSkuContainer = _productParent.querySelector('[data-variant-sku ]');
                    if (variantSkuContainer) {
                        variantSkuContainer.innerHTML = variantSku;
                    }
                    sellingPlans(getVariant, _productParent);

                    if (getVariant != undefined) {

                        if (_productParent.querySelector('shopify-payment-terms')) {
                            _productParent.querySelector('shopify-payment-terms').style.display = "block";
                        }
                        if (getVariant.id != _productParent.querySelector('[name="id"]').value) {
                            //             variant image change
                            if (getVariant.featured_media != null) {
                                let sectionId = productPageSection.getAttribute('id');
                                var image = getVariant.featured_media.id;
                                var imageSource = jQuery('#' + sectionId).find('[data-image="media-' + image + '"]');
                                if (imageSource) {
                                    var imageIndex = imageSource.index();
                                    var slider = imageSource.closest('[data-flickity-slider]');
                                    if (slider.length == 0) {
                                        slider = imageSource.closest('[data-flickity-product-slider]');
                                    }
                                    if (productSlider != undefined) {
                                        productSlider.select(imageIndex);
                                    } else {
                                        if (slider && slider.hasClass('flickity-enabled')) {
                                            slider.flickity('select', imageIndex)
                                            if ($(window).width() < 768) {
                                                let sliderImage = jQuery('body').find('#' + sectionId).find('#media-main-' + image);
                                                if (sliderImage.length > 0) {
                                                    jQuery('html,body').animate({ scrollTop: (imageSource.offset().top) - top });
                                                    let sliderImageParent = sliderImage.parent();
                                                    sliderImageParent.scrollLeft(sliderImageParent.scrollLeft() + sliderImage.position().left)
                                                }
                                            }
                                        } else if (slider.hasClass('gallery-item')) {
                                            let top = 10;
                                            if (jQuery('#headerSection').hasClass('sticky-header')) {
                                                top = jQuery('#headerSection').height() + top;
                                            }
                                            jQuery('html,body').animate({ scrollTop: (imageSource.offset().top) - top });
                                            if ($(window).width() < 768) {
                                                let sliderImage = sliderImage = jQuery('#' + sectionId).find('#media-main' + image);
                                                if (sliderImage) {
                                                    let sliderImageParent = sliderImage.parent();
                                                    sliderImageParent.scrollLeft(sliderImageParent.scrollLeft() + sliderImage.position().left)
                                                }
                                            }
                                        } else {
                                            imageSource.click();
                                            if ($(window).width() < 768) {
                                                let sliderImage = jQuery('#' + sectionId).find('#media-' + image);
                                                if (sliderImage.length == 0) {
                                                    sliderImage = jQuery('#' + sectionId).find('#media-main-' + image);
                                                }
                                                if (sliderImage.length > 0) {
                                                    let sliderImageParent = sliderImage.parent();
                                                    sliderImageParent.scrollLeft(sliderImageParent.scrollLeft() + sliderImage.position().left)
                                                }
                                            }
                                        }
                                    }
                                }
                                if (getVariant.featured_media.media_type == 'image' && productPageSection) {
                                    let featuredImage = productPageSection.querySelector('[data-id="featuredImage-' + getVariant.featured_media.id + '"]');
                                    if (featuredImage) {
                                        let featuredProductImages = productPageSection.querySelectorAll('.featured-product-image');
                                        Array.from(featuredProductImages).forEach(function(image) {
                                            image.classList.remove('active');
                                        });
                                        featuredImage.classList.add('active');
                                    }
                                }
                            }
                            _productParent.querySelector('[name="id"]').value = getVariant.id;
                            _productParent.querySelector('[name="id"]').dispatchEvent(new Event('change', { bubbles: true }));
                        }
                        var baseUrl = window.location.pathname;
                        if (baseUrl.indexOf('/products/') > -1) {
                            var _updateUrl = baseUrl + '?variant=' + getVariant.id;
                            history.pushState({}, null, _updateUrl);
                        }
                        pickUpAvialabiliy(true);
                        if (getVariant.available == true) {
                            if (buttonWrapper) {
                                buttonWrapper.classList.remove('disabled');
                            }
                            if (paymentButtonWrapper) {
                                paymentButtonWrapper.removeAttribute("disabled");
                            }
                            if (stickyPaymentButtonWrapper) {
                                stickyPaymentButtonWrapper.removeAttribute("disabled");
                            }
                            if (paymentButton) {
                                if (preorderStatus && getVariant.inventory_policy == "continue" && getVariant.inventory_quantity <= 0) {
                                    paymentButton.innerHTML = preorderText;
                                } else {
                                    paymentButton.innerHTML = addToCartText;
                                }
                            }
                            if (stickyPaymentButton) {
                                if (preorderStatus && getVariant.inventory_policy == "continue" && getVariant.inventory_quantity <= 0) {
                                    stickyPaymentButton.innerHTML = preorderText;
                                } else {
                                    stickyPaymentButton.innerHTML = addToCartText;
                                }
                            }
                        } else {

                            if (buttonWrapper) {
                                buttonWrapper.classList.add('disabled');
                            }
                            if (stickyPaymentButtonWrapper) {
                                stickyPaymentButtonWrapper.setAttribute("disabled", true);
                            }
                            if (paymentButtonWrapper) {
                                paymentButtonWrapper.setAttribute("disabled", true);
                            }
                            if (stickyPaymentButton) {
                                stickyPaymentButton.innerHTML = soldOutText;
                            }
                            if (paymentButton) {
                                paymentButton.innerHTML = soldOutText;
                            }
                        }
                    } else {
                        if (_productParent.querySelector('shopify-payment-terms')) {
                            _productParent.querySelector('shopify-payment-terms').style.display = "none";
                        }
                        pickUpAvialabiliy(false);
                        if (buttonWrapper) {
                            buttonWrapper.classList.add('disabled');
                        }
                        if (paymentButtonWrapper) {
                            paymentButtonWrapper.setAttribute("disabled", true);
                        }
                        if (paymentButton) {
                            paymentButton.innerHTML = unavailableText;
                        }
                        if (stickyPaymentButtonWrapper) {
                            stickyPaymentButtonWrapper.setAttribute("disabled", true);;
                        }
                        if (stickyPaymentButton) {
                            stickyPaymentButton.innerHTML = unavailableText;
                        }
                    }
                }, 500)
            })
        });

    }
}

function variantChange(options, type, selector) {
    var variantData = JSON.parse(selector.querySelector('[type="application/json"][data-name="variant-json"]').textContent);
    return currentVariant = variantData.find((variant) => {
        if (type === 'options') {
            return !variant.options.map((option, index) => {
                return options[index] === option;
            }).includes(false);
        }
        if (type === 'id') {
            return variant.id == options;
        }
    });
}


function priceUpdate(productSection, priceContainer, getVariant, showSaved) {
    var showSavedAmount = '';
    var savedAmountStyle = '';
    var priceHtml = '';
    if (getVariant != undefined) {
        if (priceContainer) {
            showSavedAmount = priceContainer.getAttribute('data-saved');
            savedAmountStyle = priceContainer.getAttribute('data-saved-style');
        }
        var compareAtPrice = parseInt(getVariant.compare_at_price);
        var price = parseInt(getVariant.price);
        var percentage = roundToTwo(((compareAtPrice - price) / compareAtPrice) * 100) + '% ' + saleOffText;
        var savedAmount = Shopify.formatMoney((compareAtPrice - price), moneyFormat) + ' ' + saleOffText;
        priceHtml = `<span class="yv-visually-hidden">${regularPriceText}</span><span class="yv-product-price h1">${Shopify.formatMoney(price, moneyFormat)}</span>`;
        var savedAmountHtml = '<span class="yv-visually-hidden">' + savedPriceText + '</span>';
        if (showSaved) {
            if (showSavedAmount == 'true') {
                if (savedAmountStyle == 'percentage') {
                    savedAmountHtml += `<span class="yv-product-percent-off">${percentage}</span>`;
                } else {
                    savedAmountHtml += `<span class="yv-product-percent-off">${savedAmount}</span>`;
                }
            }
        } else {
            if (getVariant.allocation_type == '') {
                if (savedAmountStyle == 'percentage') {
                    savedAmountHtml += `<span class="yv-product-percent-off">${percentage}</span>`;
                } else {
                    savedAmountHtml += `<span class="yv-product-percent-off">${savedAmount}</span>`;
                }
            } else if (getVariant.allocation_type == 'percentage') {
                savedAmountHtml += `<span class="yv-product-percent-off">${getVariant.allocation_value}% ${saleOffText}</span>`;
            } else {
                savedAmountHtml += `<span class="yv-product-percent-off">${Shopify.formatMoney(getVariant.allocation_value, moneyFormat)} ${saleOffText}</span>`;
            }
        }
        if (compareAtPrice > price) {
            priceHtml = `<span class="yv-visually-hidden">${comparePriceText}</span><span class="yv-product-price h1">${Shopify.formatMoney(price, moneyFormat)}</span>
      <div class="yv-compare-price-box"><span class="yv-visually-hidden">${regularPriceText}</span><span class="yv-product-compare-price"> ${Shopify.formatMoney(compareAtPrice, moneyFormat)}</span>
      ${savedAmountHtml}</div>`;
        }
        if (getVariant.unit_price_measurement) {
            priceHtml += '<span class="yv-visually-hidden">' + unitPriceText + '</span><p class="yv-product-unit-price">' + Shopify.formatMoney(getVariant.unit_price, moneyFormat) + ' / ';
            priceHtml += getVariant.reference_value == 1 ? '' : getVariant.reference_value;
            priceHtml += getVariant.reference_unit + '</p>';
        }

        if (getVariant.available != true) {
            priceHtml += `<span class="yv-visually-hidden">${soldOutText}</span>`;
        }
    }
    if (priceContainer) {
        priceContainer.innerHTML = priceHtml;
    }
    if (productSection) {
        let stickyPriceContainer = productSection.querySelector('[data-sticky-price-wrapper]');
        if (stickyPriceContainer) {
            stickyPriceContainer.innerHTML = priceHtml;
        }
    }
}


function sellingPlans(variant, form) {
    let sellingPlanVariable = form.querySelector('[name="selling_plan"]');
    let sellingHtmlContainer = form.querySelector('[data-selling-plan-container]');
    if (sellingHtmlContainer) {
        sellingHtmlContainer.innerHTML = '';
        if (variant && variant.selling_plans) {
            let sellingPlans = variant.selling_plans;
            let variantPlans = [],
                variantGroups = [];
            if (Object.keys(sellingPlans).length > 0) {
                for (plan in sellingPlans) {
                    var planId = parseInt(plan.replace('plan_', ''));
                    var groupId = sellingPlans[plan]['group_id'];
                    variantPlans.push(planId)
                    if (!(variantGroups.includes(groupId))) {
                        variantGroups.push(groupId)
                    }
                }
                var sellingPlanHtml = `<div class="selling_group active">
<div class="sellingPlanHeading" for="oneTimePurchase">
<input type="radio" id="oneTimePurchase" name="sellingPlanHeading" checked>
<label for="oneTimePurchase">${oneTimePurchaseText}</label>
</div>
</div>`;
                variantGroups.forEach(function(group, index) {
                    var group = eval('selling_Plan_Group_' + group);
                    var groupPlans = group.selling_plans;

                    sellingPlanHtml += `<div class="selling_group">
<div class="sellingPlanHeading" for="sellingGroup${index}">
<input type="radio" id="sellingGroup${index}" name="sellingPlanHeading" value="">
<label for="sellingGroup${index}">${group.name}</label>
</div>
<div  class="selling_plan">
<select class="selling_plan_attribute">`;
                    for (plan in groupPlans) {
                        var plan = groupPlans[plan];
                        sellingPlanHtml += `<option value="${plan.id}">${plan.name}</option>`;
                    }
                    sellingPlanHtml += `</select></div></div>`;
                })
                sellingPlanHtml += `</div>`;
                sellingPlanVariable.value = '';
                sellingHtmlContainer.innerHTML = sellingPlanHtml;
                sellingPlanChange();
            }
        }
    }
}

function pickUpAvialabiliy(status) {
    setTimeout(function() {
        var pickUp = document.querySelector('.product__pickup-availabilities');
        var previewContainer = document.getElementById('pickup-availability-preview-container');
        if (pickUp) {
            previewContainer.innerHTML = '';
            pickUp.classList.add('hidden')
            previewContainer.classList.add('hidden');
            if (status) {
                var rootUrl = pickUp.dataset.rootUrl;
                var variantId = pickUp.closest('form').querySelector('[name=id]').value;
                if (!rootUrl.endsWith("/")) {
                    rootUrl = rootUrl + "/";
                }
                var variantSectionUrl = `${rootUrl}variants/${variantId}/?section_id=pickup-availability`;

                fetch(variantSectionUrl)
                    .then(response => response.text())
                    .then(text => {
                        var sectionInnerHTML = new DOMParser()
                            .parseFromString(text, 'text/html')
                            .querySelector('.shopify-section');
                        var container = sectionInnerHTML.querySelector('#pickUpAvailabilityPreview');
                        if (container) {
                            previewContainer.innerHTML = sectionInnerHTML.innerHTML;
                            previewContainer.classList.remove('hidden');
                            pickUp.classList.remove('hidden')
                            showPickupDrawer();
                        }
                    })
                    .catch(e => {});
            }
        }
    }, 500);
}

function sellingPlanChange() {
    var groupSelectors = document.querySelectorAll('[name="sellingPlanHeading"]');
    Array.from(groupSelectors).forEach(function(group) {
        group.addEventListener("click", () => {
            var value = '';
            var productForm = group.closest('form');
            var sellingPlanVariable = productForm.querySelector('[name="selling_plan"]');
            var selectors = productForm.querySelectorAll('.selling_group');
            var _thisParent = group.closest('.selling_group');
            if (_thisParent.classList.contains('active')) {
                return;
            } else {
                Array.from(selectors).forEach(function(selector) {
                    if (selector != _thisParent) {
                        selector.classList.remove('active');
                        if (selector.querySelector('.selling_plan')) {
                            DOMAnimations.slideUp(selector.querySelector('.selling_plan'))
                        }
                    }
                });

                var variantId = productForm.querySelector('[name="id"]').getAttribute('value');
                var variantSelected = variantChange(variantId, 'id', productForm);
                var _productParent = productForm.closest('.yv_product_content_section');
                var _productSection = productForm.closest('.shopify-section');
                var priceContainer = _productParent.querySelector('[data-price-wrapper]');
                if (_thisParent.querySelector('.selling_plan_attribute')) {
                    value = _thisParent.querySelector('.selling_plan_attribute').value;
                    priceUpdate(_productSection, priceContainer, variantSelected['selling_plans']['plan_' + value], false);
                } else {
                    priceUpdate(_productSection, priceContainer, variantSelected, true);
                }
                sellingPlanVariable.value = value;
                _thisParent.classList.add('active');
                if (_thisParent.querySelector('.selling_plan')) {
                    DOMAnimations.slideDown(_thisParent.querySelector('.selling_plan'))
                }

            }
        });
    });
    var planSelectors = document.querySelectorAll('select.selling_plan_attribute');
    Array.from(planSelectors).forEach(function(plan) {
        plan.addEventListener("change", () => {
            var value = '';
            var productForm = plan.closest('form');
            var sellingPlanVariable = productForm.querySelector('[name="selling_plan"]');
            sellingPlanVariable.value = plan.value;
            var variantId = productForm.querySelector('[name="id"]').getAttribute('value');

            var variantSelected = variantChange(variantId, 'id', productForm);
            var _productParent = productForm.closest('.yv_product_content_section');
            var priceContainer = _productParent.querySelector('[data-price-wrapper]');
            var _productSection = productForm.closest('.shopify-section');
            priceUpdate(_productSection, priceContainer, variantSelected['selling_plans']['plan_' + plan.value], false);
        });
    });
}

showMultipleOptions = function() {
    return false;
    var showOptions = document.getElementsByClassName('showOptions');
    if (showOptions) {
        Array.from(showOptions).forEach(function(option) {
            option.addEventListener("click", () => {
                hideOptions();
                var product = option.getAttribute("data-product");
                var wrapper = option.closest('.card--product ');
                wrapper.querySelector('#' + product).style.display = "block";
            });
        });
    }

    var closeOptions = document.getElementsByClassName('close-product-wrap');
    if (closeOptions) {
        Array.from(closeOptions).forEach(function(option) {
            option.addEventListener("click", () => {
                var product = option.getAttribute("data-product");
                var wrapper = option.closest('.card--product ');
                wrapper.querySelector('#' + product).style.display = "none";
            });
        });
    }

    function hideOptions() {
        var options = document.getElementsByClassName('product-wrap');
        Array.from(options).forEach(function(option) {
            option.style.display = "none";
        });
    }
}

function showPickupDrawer() {
    const showContainerButton = document.getElementById('ShowPickupAvailabilityDrawer');
    const previewContainer = document.getElementById('pickup-availability-preview-container');
    if (showContainerButton) {
        showContainerButton.addEventListener("click", (e) => {
            e.preventDefault();
            const drawer = document.querySelector('[data-side-drawer]');
            drawer.setAttribute('class', 'yv_side_drawer_wrapper');
            var drawerHtml = previewContainer.querySelector('#pickUpAvailabilityMain').innerHTML;

            drawer.classList.add('pickup-availability-drawer');
            drawer.querySelector('[data-drawer-title]').innerHTML = 'Pick Up Availability';
            drawer.querySelector('[data-drawer-body]').innerHTML = drawerHtml;
            focusElement = showContainerButton;
            drawer.focus();
            document.querySelector('body').classList.add('side_Drawer_open');
        });
    }
}

flickitySlider = function(selector, slideIndex) {
    var optionContainer = selector.attr('data-flickity-slider');
    if (optionContainer) {
        var options = JSON.parse(optionContainer);
        if (selector.hasClass('flickity-enabled')) {
            selector.flickity('resize');
        } else {
            if (slideIndex) {
                selector.not('.flickity-enabled').flickity(options).flickity('select', slideIndex);
            } else {
                selector.not('.flickity-enabled').flickity(options).flickity('resize');
            }
        }
        selector.on("change.flickity", function(event, index) {
            selector[0].querySelectorAll('.yv-youtube-video').forEach((video) => {
                video.contentWindow.postMessage('{"event":"command","func":"' + 'pauseVideo' + '","args":""}', '*');
            });
            selector[0].querySelectorAll('.yv-vimeo-video').forEach((video) => {
                video.contentWindow.postMessage('{"method":"pause"}', '*');
            });
            selector[0].querySelectorAll('video').forEach((video) => video.pause());
        });
        selector.find('.flickity-slider-thumb-item').on('focus', function() {
            let slideIndex = parseInt($(this).attr('data-index'));
            let productMainSlider = selector.closest('.shopify-section').find('[data-flickity-product-slider]');
            let mainSlider = selector.closest('.shopify-section').find('.data-main-slider');
            if (productMainSlider.length > 0) {
                productSlider.select(slideIndex);
            } else {
                mainSlider.flickity('select', slideIndex);
            }
        })
    }
}

sliders = function() {
    var sliders = jQuery('body').find('[data-flickity-slider]');
    if (sliders.length > 0) {
        sliders.each(function(index) {
            if (jQuery(this).is("[data-mobile-only]")) {
                if ($(window).width() < 768) {
                    if (!jQuery(this).hasClass('flickity-enabled')) {
                        flickitySlider(jQuery(this));
                    }
                } else {
                    if (jQuery(this).hasClass('flickity-enabled')) {
                        jQuery(this).flickity('destroy');
                    }
                }
            } else if (jQuery(this).is("[data-desktop-only]")) {
                if ($(window).width() >= 768) {
                    if (!jQuery(this).hasClass('flickity-enabled')) {
                        flickitySlider(jQuery(this));
                    }
                } else {
                    if (jQuery(this).hasClass('flickity-enabled')) {
                        jQuery(this).flickity('destroy');
                    }

                }
            } else {
                if (!jQuery(this).hasClass('flickity-enabled')) {
                    flickitySlider(jQuery(this));
                } else {
                    jQuery(this).flickity('resize');
                }
            }
        });
    }
}


let yvYouTubeVideos = document.querySelectorAll('.yvYoutubeAutoPlayvVideo');
if (yvYouTubeVideos.length > 0) {
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";

    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

}

function onYouTubeIframeAPIReady() {
    Array.from(yvYouTubeVideos).forEach(function(video) {
        let divId = video.getAttribute('id');
        let vidId = video.dataset.id;
        youTubeVideoReady(divId, vidId)
    });
}

function youTubeVideoReady(divId, vidId) {
    let player = new YT.Player(divId, {
        videoId: vidId,
        width: 1915,
        height: 720,
        playerVars: {
            showinfo: 0,
            controls: 0,
            fs: 0,
            rel: 0,
            height: '100%',
            width: '100%',
            iv_load_policy: 3,
            html5: 1,
            loop: 1,
            autoplay: 1,
            playsinline: 1,
            modestbranding: 1,
            disablekb: 1,
            wmode: 'opaque',
        },
        events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
        }
    });
}

function onPlayerReady(event) {
    event.target.mute();
    event.target.playVideo();
}
let done = false;

function onPlayerStateChange(event) {
    if (event.data == 0) {
        event.target.playVideo();
    }
}

function tabAccordionContent() {
    var tabHead = document.getElementsByClassName('yv-tab-product-item');
    if (tabHead.length > 0) {
        tabHead[0].classList.add('active');
        var tabContent = document.getElementsByClassName('yv-product-detail-tab');
        tabContent[0].style.display = 'block';

        Array.from(tabHead).forEach(function(btn) {
            btn.addEventListener("click", (event) => {
                event.preventDefault();
                Array.from(tabHead).forEach(function(item) {
                    item.classList.remove('active');
                });
                Array.from(tabContent).forEach(function(item) {
                    item.style.display = 'none';
                });
                btn.classList.add("active");
                var _value = btn.getAttribute("content");
                document.getElementById(_value).style.display = "block";
            });
        });
    }
    var accordionHead = document.getElementsByClassName('yv-accordion-header');
    if (accordionHead.length > 0) {
        var accordionContent = document.getElementsByClassName('yv-accordion-content');

        Array.from(accordionHead).forEach(function(btn) {
            btn.addEventListener("click", (event) => {
                event.preventDefault();

                if (btn.classList.contains('active')) {
                    btn.parentNode.removeAttribute('open');
                    clearAccordion();
                } else {
                    btn.classList.add("active");
                    btn.parentNode.setAttribute('open', '');
                    var _value = btn.getAttribute("content");

                    clearAccordion(btn, document.getElementById(_value));
                    DOMAnimations.slideDown(document.getElementById(_value));
                }
            });
        });
    }
}

function clearAccordion(currentHead, currentContent) {
    var accordionHeads = document.getElementsByClassName('yv-accordion-header');
    var accordionContents = document.getElementsByClassName('yv-accordion-content');
    Array.from(accordionHeads).forEach(function(item) {
        if (item == currentHead) {
            return;
        } else {
            item.classList.remove('active');
        }
    });
    Array.from(accordionContents).forEach(function(item) {
        if (item == currentContent) {
            return;
        } else {
            DOMAnimations.slideUp(item);
        }
    });
}

var mapSelectors = '[data-map-container]';
var apiloaded = null;

function initMaps() {
    jQuery(mapSelectors).each(function(index, selector) {
        createMap(selector);
    })
}

function checkMapApi(selector) {
    if (selector || jQuery(mapSelectors).length > 0) {
        if (apiloaded === 'loaded') {
            if (selector) {
                createMap(selector);
            } else {
                initMaps();
            }
        } else {
            if (apiloaded !== 'loading') {
                apiloaded = 'loading';
                if (typeof window.google === 'undefined' || typeof window.google.maps === 'undefined') {
                    var script = document.createElement('script');
                    script.onload = function() {
                        apiloaded = 'loaded';
                        if (selector) {
                            createMap(selector);
                        } else {
                            initMaps();
                        }
                    };
                    script.src = 'https://maps.googleapis.com/maps/api/js?key=' + googleMapApiKey;
                    document.head.appendChild(script);
                }
            }
        }
    }
}

function createMap(selector) {
    var geocoder = new google.maps.Geocoder();
    var address = jQuery(selector).data('location');
    var mapStyle = jQuery(selector).data('map-style');
    geocoder.geocode({ address: address }, function(results, status) {
        if (results != null) {
            var options = {
                zoom: 17,
                backgroundColor: 'none',
                center: results[0].geometry.location,
                draggable: false,
                clickableIcons: false,
                scrollwheel: false,
                disableDoubleClickZoom: true,
                disableDefaultUI: true,
                mapTypeId: mapStyle
            }
            var map = (this.map = new google.maps.Map(selector, options));
            var center = (this.center = map.getCenter());
            var marker = new google.maps.Marker({
                map: map,
                position: map.getCenter()
            });
            google.maps.event.addDomListener(
                window,
                'resize',
                function() {
                    setTimeout(function() {
                        google.maps.event.trigger(map, 'resize');
                        map.setCenter(center);
                    }, 250)
                }
            );
        }
    });
}

var dealSection = function(selector) {
    const second = 1000,
        minute = second * 60,
        hour = minute * 60,
        day = hour * 24;
    var clearCountDown;

    countdown = function(selector) {
        var parent = document.querySelector(selector);
        if (parent) {
            clearInterval(clearCountDown);
            var dateSelector = parent.querySelector(".dealDate");
            if (dateSelector) {

                const myArr = dateSelector.value.split("/");
                let _day = myArr[0];
                let _month = myArr[1];
                let _year = myArr[2];
                let _date = _month + "/" + _day + "/" + _year + " 00:00:00";
                let countDown = new Date(_date).getTime();
                var daySelector = parent.querySelector("#dDays");
                var hourSelector = parent.querySelector("#dHours");
                var minSelector = parent.querySelector("#dMinutes");
                var secSelector = parent.querySelector("#dSeconds");
                if (daySelector && hourSelector && minSelector && secSelector) {
                    clearCountDown = setInterval(function() {
                        let now = new Date().getTime(),
                            distance = countDown - now;
                        var leftDays = Math.floor(distance / (day));
                        if (distance > 0) {
                            daySelector.innerText = pad2(leftDays),
                                hourSelector.innerText = pad2(Math.floor((distance % (day)) / (hour))),
                                minSelector.innerText = pad2(Math.floor((distance % (hour)) / (minute))),
                                secSelector.innerText = pad2(Math.floor((distance % (minute)) / second));
                        } else {
                            //               parent.querySelector("#dealCountdown").style.display = "none";              
                            daySelector.innerText = '00',
                                hourSelector.innerText = '00',
                                minSelector.innerText = '00',
                                secSelector.innerText = '00';
                            clearInterval(clearCountDown);
                        }
                    }, 0)
                }
            }
        }
    }

    countdown("#" + selector);

}

function clearActive(currentHead, currentContent) {
    var tabs = document.getElementsByClassName('faqSection-header');
    var tabsContent = document.getElementsByClassName('faqSection-content');
    Array.from(tabs).forEach(function(item) {
        var iconPlus = item.querySelector('.iconPlus');
        var iconMinus = item.querySelector('.iconMinus');
        if (item == currentHead) {
            return;
        } else {
            iconMinus.style.display = 'none';
            iconPlus.style.display = 'inline';
            item.classList.remove('active');
        }
    });
    Array.from(tabsContent).forEach(function(item) {
        if (item == currentContent) {
            return;
        } else {
            DOMAnimations.slideUp(item);
        }
    });
}


function quantityChange() {
    jQuery('.quantity:not(.cart-item-quantity)').each(function() {
        var spinner = jQuery(this),
            input = spinner.find('input[type="number"]'),
            btnUp = spinner.find('.quantity-up'),
            btnDown = spinner.find('.quantity-down'),
            min = input.attr('min'),
            max = input.attr('max');

        btnUp.click(function(e) {
            e.preventDefault();
            var oldValue = parseFloat(input.val());
            if (oldValue >= max) {
                var newVal = oldValue;
            } else {
                var newVal = oldValue + 1;
            }
            spinner.find("input").val(newVal);
            spinner.find("input").trigger("change");
        });

        btnDown.click(function(e) {
            e.preventDefault();
            var oldValue = parseFloat(input.val());
            if (oldValue <= min) {
                var newVal = oldValue;
            } else {
                var newVal = oldValue - 1;
            }
            spinner.find("input").val(newVal);
            spinner.find("input").trigger("change");
        });
    });

}

document.addEventListener("DOMContentLoaded", function() {
    setTimeout(function() {
        document.querySelector('body').classList.remove('page-loading')
    }, 500)
    var footerMenus = document.getElementsByClassName('footer-menu-accordion-head');
    if (window.innerWidth < 768) {
        Array.from(footerMenus).forEach(function(menu) {

            menu.addEventListener('click', function(event) {

                event.preventDefault();
                var menuList = menu.nextElementSibling;
                var menuParent = menu.parentNode;
                if (!(menuParent.classList.contains('active'))) {
                    hideallMenus(footerMenus, menu)

                    DOMAnimations.classToggle(menuParent, 'active');

                    DOMAnimations.slideToggle(menuList);
                } else {
                    DOMAnimations.classToggle(menuParent, 'active');

                    DOMAnimations.slideToggle(menuList);
                }

            });
        });
    }
});

function sliderFilter() {
    $('body').on('click', '.filter-products', function(e) {
        e.preventDefault();
        if (!$(this).hasClass('active')) {
            $(this).siblings().removeClass('active');
            $(this).addClass('active');
            let selectedCollection = $(this).data('filter');
            let selector = $(this).closest('.shopify-section').find('[data-flickity-slider]')
            if (selector.hasClass('flickity-enabled')) {
                selector.flickity('destroy');
            }
            selector.find('.filter-slide').removeClass('active').hide();
            selector.find('.filter-slide .aos-init').removeClass('aos-animate');
            // selector.find('.filter-slide').css('visibility', 'hidden').css('animation-name', 'none')
            selector.find('.filter-slide.' + selectedCollection).addClass('active').show();

            if ($(window).width() > 767) {
                flickitySlider(selector);
            }
            selector.find('.filter-slide.' + selectedCollection + ' .aos-init').addClass('aos-animate')
                // selector.find('.filter-slide.' + selectedCollection).addClass('animated').css('visibility', 'visible').css('animation-name', 'fadeIn');
            setTimeout(function() {

            }, 200);

        }
    })
}

function removeClasses() {
    $('body').removeClass('similar_Drawer_open')
        .removeClass('side_Drawer_open')
        .removeClass('yv_side_Drawer_open')
        .removeClass('active_askme')
        .removeClass('scrollHidden')
        .removeClass('quickview-open')
        .removeClass('nav-open')
        .removeClass('addsearch')
        .removeClass('minicart-open')
        .removeClass('customer-open')
        .removeClass('NewsletterActive')
        .removeClass('show__similar__products')
        .removeClass('offer-open')
        .removeClass('mega-menu-open')
        .removeClass('open-filter-sort');
    $('.yv-coupan-sidebar').removeClass('open');
    $('.wrapper-overlay').hide();
    $('input.form-control.search-input').val('');
    $('.yv-search-result-container').empty();
    setTimeout(function() {
      if($('.yv-newsletter-popup').length > 0){
        $('.yv-newsletter-popup').fadeOut('slow');
      }
    }, 200)
    if ($(window).width() > 767) {
        $('.askmeMain').hide().removeClass('slideAskme');
    } else {
        $('.askmeMain.slideAskme').removeClass('slideAskme');
        setTimeout(function() {
            $('.askmeMain').hide()
        }, 250)
    }
    $('.dropdown-menu-list').removeClass('open')
    $('.toggle-level,.list-menu__item.toggle').removeClass('open-menu-drop');
    $('.side-menu').find('.inner').removeClass('is-open');
      if($('.side-menu').find('.inner').length > 0){
      $('.side-menu').find('.inner').slideUp('slow');
      }
    if ($(window).width() < 768) {
        $('#sort__list').removeClass('active');
    } else {
      if($('#sort__list').length > 0){
        $('#sort__list').slideUp();
      }
    }
    $('body').removeClass('side_Drawer_open');
    stopFocusElementsRotation();
    if (focusElement) {
        if (focusElement.nodeType) {
            focusElement.focus();
        } else {
            focusElement.trigger('focus');
        }
        focusElement = '';
    }
}

function closeVideoMedia(quickView) {
    document.querySelectorAll('.yv-youtube-video').forEach((video) => {
        if (!isOnScreen(video) || quickView) {
            video.contentWindow.postMessage('{"event":"command","func":"' + 'pauseVideo' + '","args":""}', '*');
        }
    });
    document.querySelectorAll('.yv-vimeo-video').forEach((video) => {
        if (!isOnScreen(video) || quickView) {
            video.contentWindow.postMessage('{"method":"pause"}', '*');
        }
    });
    document.querySelectorAll('video').forEach((video) => {
        if (!video.classList.contains('videoBackgroundFile')) {
            if (!isOnScreen(video) || quickView) {
                video.pause();
            }
        }
    });
}

function navigationMenu() {
    var dropDownMenus = document.getElementsByClassName('yv-dropdown-detail');
    if (dropDownMenus.length > 0) {
        Array.from(dropDownMenus).forEach(function(menu) {
            menu.addEventListener("click", (event) => {
                let superParent = menu.closest('li');
                if (menu.open) {
                    hideAllMenu(menu);
                    document.querySelector('body').classList.remove('mega-menu-open');
                } else {
                    hideAllMenu(menu);
                    menu.classList.add("open");
                    document.querySelector('body').classList.remove('mega-menu-open')
                    document.querySelector('body').classList.add('mega-menu-open')
                }
            });
        });
    }
}

function hideAllMenu(selectMenu) {
    var dropDownMenus = document.getElementsByClassName('yv-dropdown-detail');
    if (dropDownMenus.length > 0) {
        Array.from(dropDownMenus).forEach(function(menu) {
            if (selectMenu != menu) {
                menu.removeAttribute("open");
            }
            menu.classList.remove("open");
        });
    }
};


function hideAllMenu(selectMenu) {
    var dropDownMenus = document.getElementsByClassName('yv-dropdown-detail');
    if (dropDownMenus.length > 0) {
        Array.from(dropDownMenus).forEach(function(menu) {
            if (selectMenu != menu) {
                menu.removeAttribute("open");
            }
            menu.classList.remove("open");
        });
    }
};

function closeDrawers() {
    // #filterHeading,.dropdown-menu-item,.yv-coupan-panel,.add-address,.address-btn,
    $('.offer-open,.yv-product-slider-item,.navbar-toggler,.similar_options,.openCartDrawer,.yv-coupan-sidebar,.dropdown-menu-list,.ask_this_product,.yv_similar_drawer_wrapper,#toolbox-sort,#sort__list,.yv_side_drawer_wrapper,.askmecontainer,.search-bar-container,.search-form,.yv-newsletter-popup-inner,.side-menu,#filterSideBar').hover(function() {
        mouse_is_inside = true;
    }, function() {
        mouse_is_inside = false;
    });

    var menu_is_inside = false;
    $('.dropdown-menu-item').hover(function() {
        menu_is_inside = true;
    }, function() {
        menu_is_inside = false;
    });

    $("body").on('click', function() {
        if ($(this).hasClass('offer-open')) {
            return false;
        }
        if (!menu_is_inside) {
            $('.yv-dropdown-detail').removeAttr('open');
            $('.yv-dropdown-detail').removeClass('open');
            stopFocusElementsRotation();
        }
    })

    $("body").on('mouseup', function() {
        if ($(this).hasClass('offer-open')) {
            return false;
        }
        if (!mouse_is_inside) {
            removeClasses();
            closeVideoMedia('quickView');
        }
    });

    $("body").on('keydown', function(event) {
        if (event.keyCode == 27) {
            closeVideoMedia('quickView');
            if (document.querySelector('.hamburger.opened')) {
                document.querySelector('.hamburger.opened').click();
            }

            $("body").removeClass("offer-open");
            $(".yv-coupan-sidebar-element").removeClass("open");
            $('.super_active').removeClass('super_active');
            $('.yv-dropdown-detail').removeAttr('open');
            $('.yv-dropdown-detail').removeClass('open');
            $('#sizeChartModel').fadeOut(100);
            $('#password-popup').fadeOut();
            $('body').removeClass('sizeChartOpen').removeClass('PasswordFormActive');
            removeClasses();
        }
    });
}
const ease = {
        exponentialIn: (t) => {
            return t == 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));
        },
        exponentialOut: (t) => {
            return t == 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);
        },
        exponentialInOut: (t) => {
            return t == 0.0 || t == 1.0 ?
                t :
                t < 0.5 ?
                +0.5 * Math.pow(2.0, (20.0 * t) - 10.0) :
                -0.5 * Math.pow(2.0, 10.0 - (t * 20.0)) + 1.0;
        },
        sineOut: (t) => {
            const HALF_PI = 1.5707963267948966;
            return Math.sin(t * HALF_PI);
        },
        circularInOut: (t) => {
            return t < 0.5 ?
                0.5 * (1.0 - Math.sqrt(1.0 - 4.0 * t * t)) :
                0.5 * (Math.sqrt((3.0 - 2.0 * t) * (2.0 * t - 1.0)) + 1.0);
        },
        cubicIn: (t) => {
            return t * t * t;
        },
        cubicOut: (t) => {
            const f = t - 1.0;
            return f * f * f + 1.0;
        },
        cubicInOut: (t) => {
            return t < 0.5 ?
                4.0 * t * t * t :
                0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;
        },
        quadraticOut: (t) => {
            return -t * (t - 2.0);
        },
        quarticOut: (t) => {
            return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;
        },
    }
    //  wave animation code start
class ShapeOverlays {
    constructor(elm) {
        this.elm = elm;
        this.path = elm.querySelectorAll('path');
        this.numPoints = 2;
        this.duration = 600;
        this.delayPointsArray = [];
        this.delayPointsMax = 0;
        this.delayPerPath = 200;
        this.timeStart = Date.now();
        this.isOpened = false;
        this.isAnimating = false;
    }

    toggle() {
        this.isAnimating = true;
        for (var i = 0; i < this.numPoints; i++) {
            this.delayPointsArray[i] = 0;
        }
        if (this.isOpened === false) {
            this.open();
        } else {
            this.close();
        }
    }
    open() {
        this.isOpened = true;
        this.elm.classList.add('is-opened');
        this.timeStart = Date.now();
        this.renderLoop();
    }
    close() {
        this.isOpened = false;
        this.elm.classList.remove('is-opened');
        this.timeStart = Date.now();
        this.renderLoop();
    }

    updatePath(time) {
        const points = [];

        for (var i = 0; i < this.numPoints; i++) {
            //       console.log( this );     
            //       console.log("open" + this.isOpened );
            //        console.log(i);
            const thisEase = this.isOpened ?
                (i == 1) ? ease.cubicOut : ease.cubicInOut :
                (i == 1) ? ease.cubicInOut : ease.cubicOut;
            points[i] = thisEase(Math.min(Math.max(time - this.delayPointsArray[i], 0) / this.duration, 1)) * 100
                //       points[i] = 100
        }

        let str = '';
        str += (this.isOpened) ? `M 0 0 V ${points[0]} ` : `M 0 ${points[0]} `;
        for (var i = 0; i < this.numPoints - 1; i++) {
            const p = (i + 1) / (this.numPoints - 1) * 100;
            const cp = p - (1 / (this.numPoints - 1) * 100) / 2;
            str += `C ${cp} ${points[i]} ${cp} ${points[i + 1]} ${p} ${points[i + 1]} `;
        }
        str += (this.isOpened) ? `V 0 H 0` : `V 100 H 0`;
        return str;
    }

    render() {
        if (this.isOpened) {
            for (var i = 0; i < this.path.length; i++) {
                this.path[i].setAttribute('d', this.updatePath(Date.now() - (this.timeStart + this.delayPerPath * i)));
            }
        } else {
            for (var i = 0; i < this.path.length; i++) {
                this.path[i].setAttribute('d', this.updatePath(Date.now() - (this.timeStart + this.delayPerPath * (this.path.length - i - 1))));
            }
        }
    }
    renderLoop() {
        this.render();
        if (Date.now() - this.timeStart < this.duration + this.delayPerPath * (this.path.length - 1) + this.delayPointsMax) {
            requestAnimationFrame(() => {
                this.renderLoop();
            });
        } else {
            this.isAnimating = false;
        }
    }
}

function hamburgerInit() {
    const elmHamburger = document.querySelector('.hamburger');
    const parentBody = document.querySelector('body');
    const gNavItems = document.querySelectorAll('.hamburger-menu-item');
    const dropdownNavItems = document.querySelectorAll('.dropdown-hamburger-menu-item');
    const elmOverlay = document.querySelector('.shape-overlays');
    if (!elmOverlay) {
        return false;
    }

    if (!elmHamburger) {
        return false;
    }
    const overlay = new ShapeOverlays(elmOverlay);
    elmHamburger.addEventListener('click', (e) => {
        e.preventDefault();
        if (overlay.isAnimating) {
            return false;
        }
        overlay.toggle();
        if (overlay.isOpened === true) {
            elmHamburger.classList.add('opened');
            parentBody.classList.add('hamburder-opened');
            for (var i = 0; i < gNavItems.length; i++) {
                let navItem = gNavItems[i];
                setTimeout(function() {
                    navItem.classList.add('opened');
                }, 50);
            }
            focusElement = elmHamburger;
        } else {

            let superActives = document.querySelectorAll('.super_active');
            for (var i = 0; i < superActives.length; i++) {
                superActives[i].classList.remove('super_active');
            }
            elmHamburger.classList.remove('opened');
            parentBody.classList.remove('hamburder-opened');
            for (var i = 0; i < gNavItems.length; i++) {
                gNavItems[i].classList.remove('opened');
            }
            for (var i = 0; i < dropdownNavItems.length; i++) {
                dropdownNavItems[i].classList.remove('active');
            }
        }
    });

    $('body').on('click', '.dropdown-hamburger-menu-item-title', function(e) {
        e.preventDefault();
        $(this).closest('.dropdown-hamburger-menu-item').addClass('active');
        $(this).parent().parent().parent().addClass('super_active');
    })

    $('body').on('click', '.back-to-menu', function(e) {
        e.preventDefault();
        $(this).closest('.dropdown-hamburger-menu-item').removeClass('active');
        $(this).closest('.super_active').removeClass('super_active');
    })
}
function productRecommendations(){
    const productRecommendationsSections = document.querySelectorAll('[product-recommendations]');    
    Array.from(productRecommendationsSections).forEach(function(productRecommendationsSection) {
        productRecommendationsInit(productRecommendationsSection)
    });
    
}
function productRecommendationsInit(productRecommendationsSection){
    const url = productRecommendationsSection.dataset.url;
  
      fetch(url)
        .then(response => response.text())
        .then(text => {
          const html = document.createElement('div');
          html.innerHTML = text;
          const recommendations = html.querySelector('[product-recommendations]');
  
          if (recommendations && recommendations.innerHTML.trim().length) {
            productRecommendationsSection.innerHTML = recommendations.innerHTML;
            let slider = productRecommendationsSection.querySelector('[data-flickity-slider]');
            if(slider){
                let sliderId = slider.getAttribute('id');
                if(!slider.classList.contains('flickity-enabled')){
                    if(slider.classList.contains('data-desktop-only')){
                        if(window.innerWidth > 767){
                            flickitySlider($('#'+sliderId))
                          }
                    }
                    else{
                        flickitySlider($('#'+sliderId))
                    }
                }
            }
            showMultipleOptions(); 
          }
        })
        .catch(e => {
          console.error(e);
        });
    }


document.addEventListener("DOMContentLoaded", productRecommendations, false);
document.addEventListener("shopify:section:load", productRecommendations, false);

document.addEventListener("DOMContentLoaded", hamburgerInit, false);
document.addEventListener("shopify:section:load", hamburgerInit, false);

document.addEventListener("DOMContentLoaded", navigationMenu, false);
document.addEventListener("shopify:section:load", navigationMenu, false);

document.addEventListener("DOMContentLoaded", closeDrawers, false);
document.addEventListener("shopify:section:load", closeDrawers, false);


$(document).ready(function() {

    pickUpAvialabiliy(true);

    productVariants();

    sellingPlanChange();

    sliders();

    checkMapApi();

    quantityChange();

    tabAccordionContent();

    sliderFilter()

    var slideIndex = 0;

    var block = '';
    wow = new WOW(
      { boxClass: "wow", animateClass: "animated", offset: 0, mobile: !0, live: !0 }
    );
      wow.init();
    let stickyItems = $('.sticky-item');
    setTimeout(function() {
        if ($('body').hasClass('sticky-header')) {
            let headerHeight = $('#headerSection').height();
            // stickyItems.css('top', headerHeight + 'px');
            // $('.yv-collections-topbar').css('top', (headerHeight) + 'px');
        } else {
            stickyItems.css('top', '0px');
            // $('.yv-collections-topbar').css('top', '0px');
        }
    }, 500);

    jQuery(document).on('shopify:section:select shopify:section:load shopify:section:unload shopify:block:select shopify:block:deselect', function(event) {
        var parent = event.target;
        if (Shopify.PaymentButton) {
            Shopify.PaymentButton.init();
        }
        if (jQuery(parent).hasClass('offer-sidebar-section')) {
            jQuery(parent).show();
        } else {
            $('#shopify-section-offer-sidebar').hide();
            jQuery('body').removeClass('offer-open');
            jQuery(".yv-coupan-sidebar-element").removeClass("open");
        }
        $('#shopify-section-offer-sidebar').hide();
        var slider = jQuery(parent).find('[data-flickity-slider]');
        console.log('event',event,jQuery(parent))
        if (event.type == "shopify:block:select") {
            if (jQuery(parent).closest('.shopify-section').hasClass('offer-sidebar-section')) {
                $('#shopify-section-offer-sidebar').show();
                jQuery('body').addClass('offer-open');
                jQuery('body').find(".yv-coupan-sidebar-element").addClass("open");
                jQuery('body').find(".yv-coupan-sidebar-element").find("[data-flickity-slider]").flickity('resize');
            } else {
                $('#shopify-section-offer-sidebar').hide();
                jQuery('body').removeClass('offer-open');
                jQuery(".yv-coupan-sidebar-element").removeClass("open");
                jQuery('body').find(".yv-coupan-sidebar-element").find("[data-flickity-slider]").flickity('resize');
            }
            var sectionId = event.detail.sectionId
            block = jQuery(event.target);

            slideIndex = block.index();
            if (block.closest('[data-flickity-slider]').hasClass('flickity-enabled')) {
                block.closest('[data-flickity-slider]').flickity('select', slideIndex);
            }

        } else {
            $('#shopify-section-offer-sidebar').hide();
            jQuery('body').removeClass('offer-open');
            jQuery(".yv-coupan-sidebar-element").removeClass("open");
            jQuery('body').find(".yv-coupan-sidebar-element").find("[data-flickity-slider]").flickity('resize');
        }
        if (event.type == "shopify:section:load") {
            productVariants();
            if (jQuery(parent).closest('.shopify-section').hasClass('offer-sidebar-section')) {
                $('#shopify-section-offer-sidebar').show();
            }
            if (block != '') {
                slideIndex = undefined;
            }
            if (event.target.querySelector('[data-map-container]')) {
                checkMapApi(event.target.querySelector('[data-map-container]'))
            }
            let _sliders = jQuery(event.target).find('[data-flickity-slider]')
            _sliders.each(function() {
                let _slider = $(this);
                if (_slider.is("[data-mobile-only]")) {
                    if ($(window).width() < 768) {
                        if (!_slider.hasClass('flickity-enabled')) {
                            flickitySlider(_slider, slideIndex);
                        }
                    } else {
                        if (_slider.hasClass('flickity-enabled')) {
                            _slider.flickity('destroy');
                        }
                    }
                } else if (_slider.is("[data-desktop-only]")) {
                    if ($(window).width() >= 768) {
                        if (!_slider.hasClass('flickity-enabled')) {
                            flickitySlider(_slider);
                        }
                    } else {
                        if (_slider.hasClass('flickity-enabled')) {
                            _slider.flickity('destroy');
                        }
                    }
                } else {
                    if (!_slider.hasClass('flickity-enabled')) {
                        flickitySlider($(this), slideIndex);
                    }
                }
            })
            if (jQuery(event.target).find('[data-slider]').length > 0) {
                jQuery('html, body').animate({ scrollTop: (jQuery(event.target).offset().top) });

            }
            tabAccordionContent();
            quantityChange();
            if (jQuery(event.target).find('.dealDate').length > 0) {
                dealSection(jQuery(event.target).attr('id'))
            }
            if (jQuery(event.target).find('.announcement-bar').length > 0) {
                initAnnouncement();
            }
            var pathName = window.location.pathname;
            if (pathName.indexOf('/products') > -1) {
                recommendedProductsSlider();
            }
        }
        if (event.type == "shopify:section:unload") {
            if (event.target.querySelector('[data-map-container]')) {
                checkMapApi(event.target.querySelector('[data-map-container]'))
            }
        }
        if (event.type == "shopify:section:select") {
            if (jQuery(parent).hasClass('offer-sidebar-section')) {
                jQuery(parent).show();
            }else if($('#shopify-section-offer-sidebar').find('.yv-offer-sidebar-outer').length == 0){
                $('#shopify-section-offer-sidebar').hide();
            }
        }
        var offset = $(parent).offset();

        $('html, body').animate({
            scrollTop: offset.top
        });

        if (AOS) { AOS.refreshHard() }
    });

    $('#currencyMobile').change(function() {
        $(this).closest('form').submit();
    })
    var deals = document.getElementsByClassName('deal-banner-section');
    if (deals) {
        Array.from(deals).forEach(function(deal) {
            dealSection(deal.getAttribute('id'))
        });
    }

    $(window).resize(function(event) {
        if($('body').hasClass('side_Drawer_open')){
          $('body').removeClass('side_Drawer_open');
        }
        sliders();
        sliderFilter();
    });

    $(document).on("click", function(event) {
        var $trigger = $(".currency-dropdown");
        if ($trigger !== event.target && !$trigger.has(event.target).length) {
        if ($(".currency-menu").length > 0) {
            $(".currency-menu").slideUp("fast");
        }
        }
    });


    $('body').on('click', '.navbar-toggler', function(event) {
        event.preventDefault();
        $('.navbar-collapse-sidebar').addClass('show');
        $('body').addClass('nav-open');
    });

    $('body').on('click', '.close-btn', function(event) {
        event.preventDefault();
        $('body').removeClass('nav-open');
      $('.toggle-level,.list-menu__item.toggle').removeClass('open-menu-drop');
      $('.inner').removeClass('is-open');
      if ($(".inner").length > 0) {
          $('.inner').slideUp('slow');
      }
    });


    $(document).on('click', '.close-cart-drawer', function() {
        $("body").removeClass("minicart-open"), $(".wrapper-overlay").hide();
    });

    $('body').on('click', '.similar_options', function(e) {
        e.preventDefault();
        var _this = $(this);
        $('.wrapper-overlay').css({ "display": "block" });

        var getUrl = $(this).attr('data-url');
        const drawer = document.querySelector('[data-similar-product-drawer]');

        drawer.classList.add('searching');
        document.querySelector('body').classList.add('similar_Drawer_open');
        drawer.querySelector('[data-similar-drawer-body]').innerHTML = preLoadLoadGif;
        fetch(getUrl)
            .then(response => response.text())
            .then((text) => {
                console.log('text', text)
                const html = document.createElement('div');
                html.innerHTML = text;
                const recommendations = html.querySelector('#similarItemContainer');
                if (recommendations && recommendations.innerHTML.trim().length) {
                    focusElement = _this;
                    drawer.querySelector('[data-similar-drawer-body]').innerHTML = recommendations.innerHTML;
                    drawer.classList.remove('searching');
                    focusElementsRotation($('[data-similar-product-drawer]'))
                    $(document).find('.yv_similar_drawer_wrapper').trigger('focus');
                    if (AOS) { AOS.refreshHard() }
                }
            });
    });



    $('body').on('click', '.currency-dropdown .dropdown-toggle', function() {
      if($(this).closest('.currency-dropdown').find(".currency-menu").length > 0){
        $(this).closest('.currency-dropdown').find(".currency-menu").slideToggle("fast");
      }
    });

    $('body').on('click', '#CountryList .dropdown-item', function(event) {
        event.preventDefault();
        var value = $(this).attr('data-value');
        var text = $(this).text();
        $(this).closest('form').find('.dropdown-toggle').text(text);
        $(this).closest('form').find('[name="country_code"]').val(value);
        $(this).closest('form').submit();
      if($(this).closest('.currency-dropdown').find(".currency-menu").length > 0){
        $(this).closest('.currency-dropdown').find(".currency-menu").slideUp("fast");
      }
    });

    $('body').on('click', '.dropdown-selected', function() {
        $('body').find(".productOptionSelectList").slideUp("fast");
        $(this).siblings('.productOptionSelectList').css({ "display": "block" });
    });


    $('body').on('click', '.toggle.list-menu__item,button.toggle-level', function(event) {
        event.preventDefault();
        var $this = $(this);
        if ($this.hasClass('open-menu-drop')) {
            $(this).next().removeClass('is-open')
            $(this).removeClass('open-menu-drop')
            $this.next().slideUp('slow');
        } else {
            if ($(this).hasClass('toggle-level')) {
                $('.toggle-level').removeClass('open-menu-drop');
                $('.toggle-level').next().removeClass('is-open');
                $('.toggle-level').next().slideUp('slow');
            } else {
                $('.toggle.list-menu__item,.toggle-level').removeClass('open-menu-drop');
                $('.toggle.list-menu__item,.toggle-level').next().removeClass('is-open');
                $('.toggle.list-menu__item,.toggle-level').next().slideUp('slow');
            }
            $this.closest('li').find('.inner').removeClass('is-open');
            $this.closest('li').find('.inner').slideUp('slow');
            $(this).addClass('open-menu-drop')
            $this.next().slideDown('slow');
            $this.next().addClass('is-open');
        }

    });

    $(document).on("click", function(event) {
        var $trigger = $(".productOptionSelect");
        if ($trigger !== event.target && !$trigger.has(event.target).length) {
          if($(".productOptionSelectList").length > 0 ){
            $(".productOptionSelectList").slideUp("fast");
          }
        }
    });

    $('body').on('click', '.dropdown-menu li', function() {
        var getValue = $(this).text();
        $(this).find('input').prop('checked', true)
        $(this).closest('.productOptionSelect').find('.dropdown-selected').text(getValue);
        if($(".productOptionSelectList").length > 0 ){
          $(this).closest('.productOptionSelectList').slideUp("fast");
        }
    });


    $(document).on('click', '.yv_side_drawer_close,.yv_similar_drawer_close', function() {
        $('body').removeClass('side_Drawer_open').removeClass('similar_Drawer_open').removeClass('yv_side_Drawer_open');
        closeVideoMedia('quickView');
        $('[data-similar-drawer-body]').html('');
        stopFocusElementsRotation();
        if (focusElement) {
            if (focusElement.nodeType) {
                focusElement.focus();
            } else {
                focusElement.trigger('focus');
            }
            focusElement = '';
        }
    });

    $(document).on('click', '.quickView', function(evt) {
        evt.preventDefault();
        let _this = $(this);
        const drawer = document.querySelector('[data-side-drawer]');
        drawer.setAttribute('class', 'yv_side_drawer_wrapper');
        drawer.setAttribute('id', 'yv_quickView_product');
        drawer.classList.add('yv_quickView_product');
        drawer.querySelector('[data-drawer-body]').innerHTML = preLoadLoadGif;
        drawer.querySelector('[data-drawer-title]').innerHTML = quickViewHeading;
        drawer.querySelector('[data-drawer-body]').classList.add('searching');
        document.querySelector('body').classList.add('side_Drawer_open');
        var _url = $(this).data('href');
        if (_url.indexOf('?') > -1) {
            _url = _url.split("?");
            _url = _url[0]
        }
        $('.Quick_loader').fadeIn('slow');
        setTimeout(function() {
            $.get(_url + '?view=quick-view', function(data) {
                $('[data-drawer-body]').html(data);
                // $(window).trigger('resize');
                drawer.querySelector('[data-drawer-body]').classList.remove('searching');
                if (Shopify.PaymentButton) {
                    Shopify.PaymentButton.init();
                }
                productVariants();
                quantityChange();

                focusElementsRotation($('[data-side-drawer]'))
                focusElement = _this;
                $(document).find('.yv_side_drawer_wrapper').trigger('focus');
            });
        }, 1000)
    });

    $(document).on('click', '.quickViewClose', function(evt) {
        evt.preventDefault();
        $('body').removeClass('quickview-open');
        stopFocusElementsRotation();
        if (focusElement) {
            if (focusElement.nodeType) {
                focusElement.focus();
            } else {
                focusElement.trigger('focus');
            }
            focusElement = '';
        }
    });

    var hoverSlider = setInterval(function() {
        if ($('.yv-product-hover-slider').length > 0) {
            clearInterval(hoverSlider)
            $('.yv-product-hover-slider').hover(function() {
                var _this = $(this);
                if (_this.find('.sd-main-Slider').attr('data-flickity-hover-slider') == undefined) {
                    return false;
                }
                _this.addClass('slider-active');
                var sliderOptions = JSON.parse(_this.find('.sd-main-Slider').attr('data-flickity-hover-slider'));
                var $hoverSlider = _this.find('.sd-main-Slider').flickity(sliderOptions);
            }, function() {
                if ($(this).find('.sd-main-Slider').hasClass('flickity-enabled')) {
                    $(this).removeClass('slider-active');
                    $(this).find('.sd-main-Slider').flickity('destroy');
                }
            })
            $('.yv-product-hover-slider').find('.slider-button-prev').on('click', function(e) {
                e.preventDefault();
                let gridHoverSlider = $(this).parent('.yv-product-hover-slider').find('.sd-main-Slider');
                if (gridHoverSlider.hasClass('flickity-enabled')) {
                    gridHoverSlider.flickity('previous');
                }
            });
            // next
            $('.yv-product-hover-slider').find('.slider-button-next').on('click', function(e) {
                e.preventDefault();
                let gridHoverSlider = $(this).parent('.yv-product-hover-slider').find('.sd-main-Slider');
                if (gridHoverSlider.hasClass('flickity-enabled')) {
                    gridHoverSlider.flickity('next');
                }
            });
        }
    }, 500);

    setTimeout(function() {
        clearInterval(hoverSlider)
    }, 6000);


    $('.flickity-slider > div').on('focus,keydown', function() {
        let index = $(this).index();
        $(this).closest('.flickity-enabled').flickity('select', index)
    })

    $('.yv-product-slider').on('scroll', function() {
        document.querySelectorAll('.yv-youtube-video').forEach((video) => {
            let left = video.getBoundingClientRect().left;
            if (!(left > -50 && left < (window.innerWidth - 100))) {
                video.contentWindow.postMessage('{"event":"command","func":"' + 'pauseVideo' + '","args":""}', '*');
            }
        });
        document.querySelectorAll('.yv-vimeo-video').forEach((video) => {
            let left = video.getBoundingClientRect().left;
            if (!(left > -50 && left < (window.innerWidth - 100))) {
                video.contentWindow.postMessage('{"method":"pause"}', '*');
            }
        });
        document.querySelectorAll('video').forEach((video) => {
            let left = video.getBoundingClientRect().left;
            if (!video.hasAttribute('autoplay')) {
                if (!(left > -50 && left < (window.innerWidth - 100))) {
                    video.pause()
                }
            }
        });
    })
    $(document).on('click', '.video-play-btn', function(e) {
        e.preventDefault();
        $(this).closest('.video-overlay-text').hide();
        $(this).closest('.yv-feature-videobox').addClass('video-loaded');
        $(this).closest('.shopify-section').find('.video-banner-file').show();;
    })
});
jQuery(window).resize(function() {
    setTimeout(function() {
        var sliders = jQuery('body').find('[data-flickity-slider]');
        if (sliders.length > 0) {
            sliders.each(function(index) {
                var _this = jQuery(this);
                if (_this.hasClass('flickity-enabled')) {
                    _this.flickity('resize');
                }
            });
        }
    }, 1000);
})