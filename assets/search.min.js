function removeHtmlEntities(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};return e.replace(/([&<>\"'])/g,(e=>t[e]))}function searchTabsInit(){var e=document.getElementsByClassName("yv-tab-result-head");if(e.length>0){var t=document.getElementsByClassName("yv-search-result-list");Array.from(e).forEach((function(a){a.addEventListener("click",(r=>{r.preventDefault(),Array.from(e).forEach((function(e){e.classList.remove("active")}));let s=a.getAttribute("data-resulturl"),i=document.querySelector(".search-bar-container");if(i){let e=i.querySelector(".search-result-bottom");i&&e.setAttribute("href",s)}Array.from(t).forEach((function(e){e.classList.remove("active")})),a.classList.add("active");var l=a.getAttribute("data-results");document.getElementById(l).classList.add("active")}))}))}}var searchTyping;document.addEventListener("DOMContentLoaded",searchTabsInit,!1),document.addEventListener("shopify:section:load",searchTabsInit,!1),$(document).ready((function(){$(".search-form").click((function(e){e.preventDefault(),focusElement=$(".search-form");var t=$(this).data("search-drawer");$("body").toggleClass(t),$("input.search-input").trigger("focus"),$("#recent_search_list").html(""),function(){$("#recent_search_list").html(""),$(".recent-search-list").siblings(".yv-search-result-container").removeClass("no-recent");var e="",t=!1;setTimeout((function(){var a=localStorage.getItem("Recent_search"),r=JSON.parse(a);if($(".recent-search-list").html(""),null==r)$(".recent-search-list").html(""),$(".recent-search-list").siblings(".yv-search-result-container").addClass("no-recent");else{e=(e=e.concat('<h6 class="recent-search-title">'+searchRecentTitleText+"</h6>")).concat('<ul class="list-unstyled recent-search-listing">');var s=r.reverse();$.each(s,(function(a,r){var s="";rootUrl.length>1&&(s=rootUrl),a<10&&jQuery.ajax({type:"GET",url:s+"/products/"+r+".json",success:function(a){t=!0;let r=a.product,i=noProductImage,l=$("<div>"+r.title+"</div>").text();r.image&&(i=`<img src="${r.image.src.concat("&width=60")}"  alt="${removeHtmlEntities(l)}">`),e+=`<li><a href="${s}/products/${r.handle}">\n\t\t\t\t\t${i}<span>${truncate(removeHtmlEntities(l),2)}</span></a></li>`},error:function(e){console.log("Error: "+e)}})})),$(document).ajaxStop((function(){e=e.concat("</ul>"),t&&$("#recent_search_list").html(e)}))}}),500)}()}));var e=$(".yv-search-result-container");$(".AjaxSearchResponse").prepend(""),$(".search-close").show(),$("body").on("keydown",".search-input",(function(e){clearTimeout(searchTyping)})),$("body").on("keyup",".search-input",(function(t){clearTimeout(searchTyping);var a=$(this),r=($("[data-search-drawer]").data("search-drawer"),localStorage.getItem("Recent_search")),s=JSON.parse(r);null==s&&(s=[]);var i=$(this).closest("form");searchTyping=setTimeout((function(){e.html(preLoadLoadGif);var t=i.find('input[name="q"]').val(),r="product";searchPageResults&&(r+=",page"),searchArticleResults&&(r+=",article"),t.length>2&&t!=a.data("oldval")?fetch("/search/suggest.json?q="+t+"&resources[type]="+r+"&resources[options][fields]=author,tag,title,product_type,variants.title,vendor,variants.sku").then((e=>e.json())).then((a=>{if(a.resources){const l=a.resources.results.products,c=a.resources.results.articles,n=a.resources.results.pages;let o=articleHtml=pageHtml="",d=articleHead=pageHead="",u=!1,v="active";r="product";let p=0;if(l&&l.length>0&&(u=!0,p+=l.length,o=function(e,t){var a=`<div id="filter-products" class="yv-tab-pane yv-search-result-list product-result ${t}">\n            <div class="row">`;return e.forEach((function(e,t){let r=noProductImage,s="",i=$("<div>"+e.title+"</div>").text();if(e.image&&(r=`<img src="${e.image}" alt="${removeHtmlEntities(i)}" loading="lazy">`),0==e.available?s=`<div class="yv-product-badge sold-badge">${soldOutText}</div>`:e.compare_at_price_min>e.price_min&&(s=`<div class="yv-product-badge sold-badge">${saleText}</div>`),a+=`<div class="col-4 col-sm-4 col-md-3 col-lg-2">\n                <div class="yv-product-card xsmall-product-card">\n                  <div class="yv-product-card-img">\n                    <a class="yv-product-img" href="${e.url}" title="${removeHtmlEntities(i)}" tabindex="0">\n\t\t\t\t\t\t${r}\n                    </a>\n\t\t\t\t\t${s}\n                  </div>\n                  <div class="yv-product-information">\n                    <a href="${e.url}" class="yv-product-title" title="${removeHtmlEntities(i)}" tabindex="0">${removeHtmlEntities(i)}</a>\n                    <div class="yv-prizebox"> `,e.price_min<e.compare_at_price_min?a+=`<span class="yv-product-price price-varies">${priceVariText.replace("[[price]]",Shopify.formatMoney(e.price_min,moneyFormat))}</span>\n\t\t\t<span class="yv-product-compare-price">${Shopify.formatMoney(e.compare_at_price_min,moneyFormat)}</span>`:a+=`<span class="yv-product-price">${Shopify.formatMoney(e.price_min,moneyFormat)}</span>`,a+="   </div></div></div></div>",8==t)return!1})),a+="</div></div>"}(l,v),d=`<li class="yv-tab-item yv-tab-result-head ${v}" data-results="filter-products" data-resultUrl="/search?type=product&q=${t}&options[prefix]=last"><a href="javascript:void(0)" class="yv-tab-link">${searchDrawerProductHead}</a></li>`,v="",$.each(l,(function(e,t){if(0==e&&!1===s.includes(t.handle)&&s.push(t.handle),6==e)return!1})),localStorage.setItem("Recent_search",JSON.stringify(s))),c&&c.length>0&&(""!=v&&(r="article"),u=!0,p+=c.length,articleHtml=function(e,t){var a=`<div id="filter-articles" class="yv-tab-pane yv-search-result-list blog-result ${t}">\n  <div class="row">`;return e.forEach((function(e,t){let r=$("<div>"+e.title+"</div>").text();var s=new Date(e.published_at),i=s.getDate(),l=s.toLocaleString("default",{month:"long"});i<10&&(i="0"+i);var c=s.getFullYear();let n=noImage,o=1;if(e.featured_image&&(o=e.featured_image.aspect_ratio),e.image&&(n=`<div class="image-wrapper" style="padding-bottom:${1/o*100}%"><img src="${e.image}" alt="${removeHtmlEntities(r)}"></div>`),a+=`<div class="col-6 col-sm-6 col-md-4 col-lg-2">\n      <div class="yv-blog-card">\n        <a href="${e.url}" class="yv-blog-card-img" title="${removeHtmlEntities(r)}">\n        \t${n}\n          <span class="yv-blog-date">${l+" "+i+", "+c}</span>\n        </a>\n        <div class="yv-blog-card-text">\n          <h5 class="yv-blog-title">${removeHtmlEntities(r)}</h5>\n\t\t\t<p class="yv-blog-desc">${$(e.body).text().substring(0,80)}</p>\n          <a href="${e.url}" class="yv-blog-link">${readMoreText}</a>\n        </div>\n      </div>\n    </div>`,5==t)return!1})),a+="</div>\n</div>"}(c,v),articleHead=`<li class="yv-tab-item yv-tab-result-head ${v}" data-results="filter-articles" data-resultUrl="/search?type=article&q=${t}&options[prefix]=last"><a href="javascript:void(0)" class="yv-tab-link">${searchDrawerArticleHead}</a> </li>`,v=""),n&&n.length>0&&(""!=v&&(r="page"),u=!0,p+=n.length,pageHtml=function(e,t){var a=`<div id="filter-pages" class="yv-tab-pane yv-search-result-list page-result ${t}">\n  <div class="row">`;return e.forEach((function(e,t){let r=$("<div>"+e.title+"</div>").text();if(a+=` <div class="col-6 col-sm-6 col-md-4">\n      <div class="page-result-item">\n\t\t<h5 class="page-result-title">${removeHtmlEntities(r)}</h5>\n        <p class="page-result-desc">${$(e.body).text().substring(0,200)}</p>\n\t\t<a class="page-result-link" href="${e.url}" title="${removeHtmlEntities(r)}">${readMoreText}</a>\n      </div>\n    </div>`,2==t)return!1})),a+="</div>\n</div>"}(n,v),pageHead=`<li class="yv-tab-item yv-tab-result-head ${v}" data-results="filter-pages" data-resultUrl="/search?type=page&q=${t}&options[prefix]=last"><a href="javascript:void(0)" class="yv-tab-link">${searchDrawerPageHead}</a></li>`),u){let a=document.querySelector(".search-drawer-result-count");a&&(a.innerHTML=p+" "+searchResultText);var i=`<div class="yv-tabs-wrapper">\n                <ul class=" list-unstyled yv-tabs align-end">${d+articleHead+pageHead}</ul>\n                <div class="yv-tab-content">${o+articleHtml+pageHtml}</div>\t\n                <div>\n                <a href="/search?type=${r}&q=${t}&options%5Bprefix%5D=last" class="search-result-bottom">${searchAllResultText}</a>\n                </div></div>`;e.html(i),searchTabsInit()}else e.html('<div class="search-bar-no-results"><h3>'+searchNoSuggestionText+"</h3></div>")}else e.html('<div class="search-bar-no-results"><h3>'+searchNoSuggestionText+"</h3></div>")})):t.length<=2&&e.empty()}),1e3)})),$(".search-form, #search-form").on("submit",(function(e){e.preventDefault();var t="*"+$(this).find('input[name="q"]').val()+"*",a=$(this).attr("action")+"?q="+t+"&options%5Bprefix%5D=last";window.location=a})),$("body").on("click",".yv-search-drawer-close",(function(t){t.preventDefault(),$("input.form-control.search-input").val(""),e.empty(),$("body").removeClass("addsearch"),focusElement.trigger("focus")}))}));